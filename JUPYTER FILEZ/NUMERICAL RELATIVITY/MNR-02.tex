% Based on http://nbviewer.jupyter.org/github/ipython/nbconvert-examples/blob/master/citations/Tutorial.ipynb , authored by Brian E. Granger
    % Declare the document class
    \documentclass[landscape,letterpaper,10pt,english]{article}


    \usepackage[breakable]{tcolorbox}
    \usepackage{parskip} % Stop auto-indenting (to mimic markdown behaviour)
    

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % Maintain compatibility with old templates. Remove in nbconvert 6.0
    \let\Oldincludegraphics\includegraphics
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionFormat{nocaption}{}
    \captionsetup{format=nocaption,aboveskip=0pt,belowskip=0pt}

    \usepackage{float}
    \floatplacement{figure}{H} % forces figures to be placed at the correct location
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro

    \usepackage{iftex}
    \ifPDFTeX
        \usepackage[T1]{fontenc}
        \IfFileExists{alphabeta.sty}{
              \usepackage{alphabeta}
          }{
              \usepackage[mathletters]{ucs}
              \usepackage[utf8x]{inputenc}
          }
    \else
        \usepackage{fontspec}
        \usepackage{unicode-math}
    \fi

    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics
                         % to support a larger range
    \makeatletter % fix for old versions of grffile with XeLaTeX
    \@ifpackagelater{grffile}{2019/11/01}
    {
      % Do nothing on new versions
    }
    {
      \def\Gread@@xetex#1{%
        \IfFileExists{"\Gin@base".bb}%
        {\Gread@eps{\Gin@base.bb}}%
        {\Gread@@xetex@aux#1}%
      }
    }
    \makeatother
    \usepackage[Export]{adjustbox} % Used to constrain images to a maximum size
    \adjustboxset{max size={0.9\linewidth}{0.9\paperheight}}

    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    % The default LaTeX title has an obnoxious amount of whitespace. By default,
    % titling removes some of it. It also provides customization options.
    \usepackage{titling}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage{array}     % table support for pandoc >= 2.11.3
    \usepackage{calc}      % table minipage width calculation for pandoc >= 2.11.1
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    \usepackage{mathrsfs}
    

    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}
    \definecolor{ansi-default-inverse-fg}{HTML}{FFFFFF}
    \definecolor{ansi-default-inverse-bg}{HTML}{000000}

    % common color for the border for error outputs.
    \definecolor{outerrorbackground}{HTML}{FFDFDF}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}

    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}


    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatibility definitions
    \def\gt{>}
    \def\lt{<}
    \let\Oldtex\TeX
    \let\Oldlatex\LaTeX
    \renewcommand{\TeX}{\textrm{\Oldtex}}
    \renewcommand{\LaTeX}{\textrm{\Oldlatex}}
    % Document parameters
    % Document title
    \title{MNR-02}
    
    
    
    
    
% Pygments definitions
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\@namedef{PY@tok@w}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\@namedef{PY@tok@c}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cp}{\def\PY@tc##1{\textcolor[rgb]{0.61,0.40,0.00}{##1}}}
\@namedef{PY@tok@k}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kp}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kt}{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\@namedef{PY@tok@o}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@ow}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\@namedef{PY@tok@nb}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@nf}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@nc}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@nn}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@ne}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.80,0.25,0.22}{##1}}}
\@namedef{PY@tok@nv}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@no}{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\@namedef{PY@tok@nl}{\def\PY@tc##1{\textcolor[rgb]{0.46,0.46,0.00}{##1}}}
\@namedef{PY@tok@ni}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.44,0.44,0.44}{##1}}}
\@namedef{PY@tok@na}{\def\PY@tc##1{\textcolor[rgb]{0.41,0.47,0.13}{##1}}}
\@namedef{PY@tok@nt}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@nd}{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\@namedef{PY@tok@s}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sd}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@si}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.64,0.35,0.47}{##1}}}
\@namedef{PY@tok@se}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.36,0.12}{##1}}}
\@namedef{PY@tok@sr}{\def\PY@tc##1{\textcolor[rgb]{0.64,0.35,0.47}{##1}}}
\@namedef{PY@tok@ss}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@sx}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@m}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@gh}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\@namedef{PY@tok@gu}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\@namedef{PY@tok@gd}{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\@namedef{PY@tok@gi}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.52,0.00}{##1}}}
\@namedef{PY@tok@gr}{\def\PY@tc##1{\textcolor[rgb]{0.89,0.00,0.00}{##1}}}
\@namedef{PY@tok@ge}{\let\PY@it=\textit}
\@namedef{PY@tok@gs}{\let\PY@bf=\textbf}
\@namedef{PY@tok@gp}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\@namedef{PY@tok@go}{\def\PY@tc##1{\textcolor[rgb]{0.44,0.44,0.44}{##1}}}
\@namedef{PY@tok@gt}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\@namedef{PY@tok@err}{\def\PY@bc##1{{\setlength{\fboxsep}{\string -\fboxrule}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}}
\@namedef{PY@tok@kc}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kd}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kn}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kr}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@bp}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@fm}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@vc}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vg}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vi}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vm}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@sa}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sb}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sc}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@dl}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@s2}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sh}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@s1}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@mb}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mf}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mh}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mi}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@il}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mo}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@ch}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cm}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cpf}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@c1}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cs}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % For linebreaks inside Verbatim environment from package fancyvrb.
    \makeatletter
        \newbox\Wrappedcontinuationbox
        \newbox\Wrappedvisiblespacebox
        \newcommand*\Wrappedvisiblespace {\textcolor{red}{\textvisiblespace}}
        \newcommand*\Wrappedcontinuationsymbol {\textcolor{red}{\llap{\tiny$\m@th\hookrightarrow$}}}
        \newcommand*\Wrappedcontinuationindent {3ex }
        \newcommand*\Wrappedafterbreak {\kern\Wrappedcontinuationindent\copy\Wrappedcontinuationbox}
        % Take advantage of the already applied Pygments mark-up to insert
        % potential linebreaks for TeX processing.
        %        {, <, #, %, $, ' and ": go to next line.
        %        _, }, ^, &, >, - and ~: stay at end of broken line.
        % Use of \textquotesingle for straight quote.
        \newcommand*\Wrappedbreaksatspecials {%
            \def\PYGZus{\discretionary{\char`\_}{\Wrappedafterbreak}{\char`\_}}%
            \def\PYGZob{\discretionary{}{\Wrappedafterbreak\char`\{}{\char`\{}}%
            \def\PYGZcb{\discretionary{\char`\}}{\Wrappedafterbreak}{\char`\}}}%
            \def\PYGZca{\discretionary{\char`\^}{\Wrappedafterbreak}{\char`\^}}%
            \def\PYGZam{\discretionary{\char`\&}{\Wrappedafterbreak}{\char`\&}}%
            \def\PYGZlt{\discretionary{}{\Wrappedafterbreak\char`\<}{\char`\<}}%
            \def\PYGZgt{\discretionary{\char`\>}{\Wrappedafterbreak}{\char`\>}}%
            \def\PYGZsh{\discretionary{}{\Wrappedafterbreak\char`\#}{\char`\#}}%
            \def\PYGZpc{\discretionary{}{\Wrappedafterbreak\char`\%}{\char`\%}}%
            \def\PYGZdl{\discretionary{}{\Wrappedafterbreak\char`\$}{\char`\$}}%
            \def\PYGZhy{\discretionary{\char`\-}{\Wrappedafterbreak}{\char`\-}}%
            \def\PYGZsq{\discretionary{}{\Wrappedafterbreak\textquotesingle}{\textquotesingle}}%
            \def\PYGZdq{\discretionary{}{\Wrappedafterbreak\char`\"}{\char`\"}}%
            \def\PYGZti{\discretionary{\char`\~}{\Wrappedafterbreak}{\char`\~}}%
        }
        % Some characters . , ; ? ! / are not pygmentized.
        % This macro makes them "active" and they will insert potential linebreaks
        \newcommand*\Wrappedbreaksatpunct {%
            \lccode`\~`\.\lowercase{\def~}{\discretionary{\hbox{\char`\.}}{\Wrappedafterbreak}{\hbox{\char`\.}}}%
            \lccode`\~`\,\lowercase{\def~}{\discretionary{\hbox{\char`\,}}{\Wrappedafterbreak}{\hbox{\char`\,}}}%
            \lccode`\~`\;\lowercase{\def~}{\discretionary{\hbox{\char`\;}}{\Wrappedafterbreak}{\hbox{\char`\;}}}%
            \lccode`\~`\:\lowercase{\def~}{\discretionary{\hbox{\char`\:}}{\Wrappedafterbreak}{\hbox{\char`\:}}}%
            \lccode`\~`\?\lowercase{\def~}{\discretionary{\hbox{\char`\?}}{\Wrappedafterbreak}{\hbox{\char`\?}}}%
            \lccode`\~`\!\lowercase{\def~}{\discretionary{\hbox{\char`\!}}{\Wrappedafterbreak}{\hbox{\char`\!}}}%
            \lccode`\~`\/\lowercase{\def~}{\discretionary{\hbox{\char`\/}}{\Wrappedafterbreak}{\hbox{\char`\/}}}%
            \catcode`\.\active
            \catcode`\,\active
            \catcode`\;\active
            \catcode`\:\active
            \catcode`\?\active
            \catcode`\!\active
            \catcode`\/\active
            \lccode`\~`\~
        }
    \makeatother

    \let\OriginalVerbatim=\Verbatim
    \makeatletter
    \renewcommand{\Verbatim}[1][1]{%
        %\parskip\z@skip
        \sbox\Wrappedcontinuationbox {\Wrappedcontinuationsymbol}%
        \sbox\Wrappedvisiblespacebox {\FV@SetupFont\Wrappedvisiblespace}%
        \def\FancyVerbFormatLine ##1{\hsize\linewidth
            \vtop{\raggedright\hyphenpenalty\z@\exhyphenpenalty\z@
                \doublehyphendemerits\z@\finalhyphendemerits\z@
                \strut ##1\strut}%
        }%
        % If the linebreak is at a space, the latter will be displayed as visible
        % space at end of first line, and a continuation symbol starts next line.
        % Stretch/shrink are however usually zero for typewriter font.
        \def\FV@Space {%
            \nobreak\hskip\z@ plus\fontdimen3\font minus\fontdimen4\font
            \discretionary{\copy\Wrappedvisiblespacebox}{\Wrappedafterbreak}
            {\kern\fontdimen2\font}%
        }%

        % Allow breaks at special characters using \PYG... macros.
        \Wrappedbreaksatspecials
        % Breaks at punctuation characters . , ; ? ! and / need catcode=\active
        \OriginalVerbatim[#1,codes*=\Wrappedbreaksatpunct]%
    }
    \makeatother

    % Exact colors from NB
    \definecolor{incolor}{HTML}{303F9F}
    \definecolor{outcolor}{HTML}{D84315}
    \definecolor{cellborder}{HTML}{CFCFCF}
    \definecolor{cellbackground}{HTML}{F7F7F7}

    % prompt
    \makeatletter
    \newcommand{\boxspacing}{\kern\kvtcb@left@rule\kern\kvtcb@boxsep}
    \makeatother
    \newcommand{\prompt}[4]{
        {\ttfamily\llap{{\color{#2}[#3]:\hspace{3pt}#4}}\vspace{-\baselineskip}}
    }
    

    
% Start the section counter at -1, so the Table of Contents is Section 0
   \setcounter{section}{-2}
% Prevent overflowing lines due to hard-to-break entities
    \sloppy
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }

    % Slightly bigger margins than the latex defaults
    \geometry{verbose,tmargin=0.5in,bmargin=0.5in,lmargin=0.5in,rmargin=0.5in}


\begin{document}
    
    \maketitle
    
    

    
    \hypertarget{mini-numerical-relativity-problems-chapter-2-foliations-of-spacetime-constraint-and-evolution-equations}{%
\section{Mini Numerical Relativity Problems Chapter 2: Foliations of
Spacetime: Constraint and Evolution
Equations}\label{mini-numerical-relativity-problems-chapter-2-foliations-of-spacetime-constraint-and-evolution-equations}}

\hypertarget{authors-gabriel-m-steward}{%
\subsection{Authors: Gabriel M
Steward}\label{authors-gabriel-m-steward}}

    https://github.com/zachetienne/nrpytutorial/blob/master/Tutorial-Template\_Style\_Guide.ipynb

Link to the Style Guide. Not internal in case something breaks.

    \hypertarget{nrpy-source-code-for-this-module}{%
\subsubsection{\texorpdfstring{ NRPy+ Source Code for this
module:}{ NRPy+ Source Code for this module:}}\label{nrpy-source-code-for-this-module}}

None, save the pdf conversion at the bottom of this document.

\hypertarget{introduction}{%
\subsection{Introduction:}\label{introduction}}

The normal Numerical Relativity book has proven to be dense and not all
that helpful in terms of starting out, so we turn to this simpler, more
motivated book in the hopes that it will give us the knowledge needed to
reach our goal.

\hypertarget{other-optional}{%
\subsection{\texorpdfstring{ Other
(Optional):}{ Other (Optional):}}\label{other-optional}}

In order to fascilitate learning, whenever the opportunity arises Sympy
will be used.

\hypertarget{note-on-notation}{%
\subsubsection{Note on Notation:}\label{note-on-notation}}

Any new notation will be brought up in the notebook when it becomes
relevant.

\hypertarget{citations}{%
\subsubsection{Citations:}\label{citations}}

{[}1{]} http://linearalgebra.math.umanitoba.ca/math1220/section-28.html
(Cofactor Expansion)

{[}2{]}
https://www.chilimath.com/lessons/advanced-algebra/inverse-of-a-2x2-matrix/
(Matrix Inverse Formula)

{[}3{]}
https://www.physicsforums.com/insights/the-electric-field-seen-by-an-observer-a-relativistic-calculation-with-tensors/
(Magnetic Field I)

{[}4{]}
https://physics.stackexchange.com/questions/625124/trying-to-understand-electric-and-magnetic-fields-as-4-vectors
(Magnetic Field II)

{[}5{]}
https://iopscience.iop.org/article/10.1088/1742-6596/437/1/012014/pdf
(Magnetic Field III)

{[}6{]}
https://ned.ipac.caltech.edu/level5/March01/Carroll3/Carroll5.html (Lie
Derivatives)

{[}7{]}
https://people.math.carleton.ca/\textsubscript{kcheung/math/notes/MATH1107/wk07/07\_cofactor\_expansion.html\#:}:text=One\%20way\%20of\%20computing\%20the,(i\%E2\%88\%A3n)).
(Cofactors)

    \hypertarget{table-of-contents}{%
\section{Table of Contents}\label{table-of-contents}}

\[\label{toc}\]

\hyperref[p1]{Problem 1} (Constraint Satisfaction)

\hyperref[p2]{Problem 2} (EM Relativistic Observations)

\hyperref[a4]{Problem A4} (Appendix Aside: Faraday Tensor
Transformation)

\hyperref[c1]{Problem C1} (Appendix Aside: Faraday Tensor Determinant)

\hyperref[p3]{Problem 3} (Playing With Lapse And Normals)

\hyperref[p4]{Problem 4} (Finding the Shift Vector)

\hyperref[p5]{Problem 5} (Vanishing Operators)

\hyperref[p6]{Problem 6} (Calculating the Projection Operator)

\hyperref[p7]{Problem 7} (Symmetric Curvature)

\hyperref[p8]{Problem 8} (Manually Calculate Extrinsic Curvature)

\hyperref[p9]{Problem 9} (Observed Magnetism)

\hyperref[p10]{Problem 10} (Acceleration and Lapse)

\hyperref[p11]{Problem 11} (Lie Derivative Commutator)

\hyperref[p12]{Problem 12} (Covariant and Partial Equivalence for Lie
Derivatives)

\hyperref[p13]{Problem 13} (Lie Lapse)

\hyperref[p14]{Problem 14} (Covariant Derivative of Faraday)

\hyperref[p15]{Problem 15} (Lie Lapse II)

\hyperref[p16]{Problem 16} (All Together Now, incomplete)

\hyperref[p16a]{Problem 16 Alt} (All Together Now but phrased more
helpfully)

\hyperref[p16c]{Problem 16 Code Validation} (The above problem's
validation in NRPyLaTeX)

\hyperref[p17]{Problem 17} (Metric Traces)

\hyperref[p18]{Problem 18} (Determinant Relations)

\hyperref[p19]{Problem 19} (Polar Schwarzchild Quantities)

\hyperref[p20]{Problem 20} (Trumpet Schwarzchild, a.k.a. the Harder
Problem, incomplete)

28

\hyperref[latex_pdf_output]{PDF} (turn this into a PDF)

    \hypertarget{problem-1-back-to-top}{%
\section{\texorpdfstring{Problem 1 {[}Back to
\hyperref[toc]{top}{]}}{Problem 1 {[}Back to {]}}}\label{problem-1-back-to-top}}

\[\label{P1}\]

\emph{Define a constraint violation function
\(\mathcal{C} = D_iE^i - 4\pi\rho\) and assume that charge is conserved,
so that the continuity equation \(\partial_t \rho = -D_ij^i\) holds.
Then show that the time derivative of the constraint violation funciton
vanishes, \(\partial_t \mathcal{C} = 0\)}

    Take the time derivative of both sides.

\[ \partial_t \mathcal C = \partial_t D_i E^i - 4\pi \partial_t \rho \]

\[ \Rightarrow \partial_t \mathcal C = \partial_t D_i E^i + 4\pi D_i j^i \]

    Note that while we CAN move the time derivative past the D and get an
equation in the form of 2.15, THIS IS A WILD GOOSE CHASE. 2.16 has
\(D_i E^i = 4\pi \rho\). Which means\ldots{}

\[ \Rightarrow \partial_t \mathcal C = \partial_t 4\pi \rho + 4\pi D_i j^i \]

\[ \Rightarrow \partial_t \mathcal C = - 4\pi D_i j^i + 4\pi D_i j^i \]

\[ \Rightarrow \partial_t \mathcal C = 0 \]

And that is SO much neater than what we were trying to do. Don't even
have to monkey with indeces at ALL.

    \hypertarget{problem-2-back-to-top}{%
\section{\texorpdfstring{Problem 2 {[}Back to
\hyperref[toc]{top}{]}}{Problem 2 {[}Back to {]}}}\label{problem-2-back-to-top}}

\[\label{P2}\]

\emph{a) Demonstrate that 2.18 reduces to 2.17 in the observer's local
Lorentz frame, where \(u^a = (1,0,0,0)\)}

    2.17 is the full Faraday Tensor, given by:

\[ F^{ab} = \begin{bmatrix}
0 & E^x & E^y & E^z \\
-E^x & 0 & B^z & -B^y \\
-E^y & -B^z & 0 & B^x \\
-E^z & B^y & -B^x & 0 \\
\end{bmatrix}
\]

And 2.18 is the ``one line'' verison.

\[ F^{ab} = u^aE^b - u^bE^a + u_d\epsilon^{dabc} B_c \]

Our goal is to show that 2.18 really does become 2.17 when given the
``stationary'' four-velocity.

    First of all, the diagonal: clearly correct, as every time a=b
everything cancels--the two E terms are opposing, and the Levi-Civita
tensor can never have duplicates in it.

When a or b equals t, d cannot be t, and thus the Levi-Civita tensor
vanishes for all a or b = t cases, leaving only the E terms. The
negatives remain when b=t, and the positives remain when a=t, and the E
terms vanish for a and not equaling t, so that's the Electric
contributions.

So, now for the B contributions. d has to equal t. a and b have to equal
whatever the coordinates at their point is, meaning c must be the only
remaining point. (so an xy would produce a B of z, which is exactly what
we see). Flipping a and b changes the sign by the even-oddness rule of
the Levi-Civita tensor. All we really have to do is make sure the signs
are right on one side. The combinations we end up with for the upper
part of the matrix are: txyz, txzy, and tyzx. Note that the first one,
txyz, is the standard, thus evalutes positive. The second one is a
single-shuffle, so it evaluates negatively. The last one is a
double-shuffle, so it evaluates positive.

Thus, every single term is accounted for!

    \emph{b) Show that an observer with (arbitrary) four-velocity \(u^a\)
will measure the electric field to be \(E^a = F^{ab}u_b\) and the
magnetic field to be \(B^a = \epsilon^{abcd}u_b F_{dc}/2\). Hint: For
the latter, use
\(\epsilon^{abcd}\epsilon_{cdef} = -2\delta^{ab}_{ef} = -2(\delta^a_e\delta^b_f - \delta^a_f \delta^b_e)\)}

    For the electric field, we work backward by applying \(u_b\) to 2.18.

\[ F^{ab}u_b = u^aE^bu_b - u^bE^au_b + u_d\epsilon^{dabc} B_cu_b \]

We know from the definitions that \(E^bu_b=0\) and from General
Relativity that \(u^bu_b=-1\). However, the last term? well, if d=b we
have a case where the Levi-Civita tensor vanishes. And if they are not
equal, then both u values can't exist at the same time, and everything
explodes to zero. Kaboom.

\[ F^{ab}u_b = E^a \]

    Now, for the B version, we need to lower the indeces of F and alter them
a bit.

\[ F_{ab} = u_aE_b - u_bE_a + u_d\epsilon^{dc}_{ab} B_c \]

\[ \Rightarrow F_{dc} = u_dE_c - u_cE_d + u_f\epsilon^{fe}_{dc} B_e \]

Now we use a trick akin to \(u^an_a = g_{ab}u^an^b = u_bn^b\).

\[ \Rightarrow F_{dc} = u_dE_c - u_cE_d + u^e\epsilon_{edcf} B^f \]

Perform a shuffle for later index convenience. No sign change as it is
two swaps.

\[ \Rightarrow F_{dc} = u_dE_c - u_cE_d + u^e\epsilon_{dcef} B^f \]

    And now we see if we can extract \(B^a\) with the suggested operations.

\[ \frac12 \epsilon^{abcd}u_bF_{dc} = \frac12 \epsilon^{abcd}u_bu_dE_c - \frac12 \epsilon^{abcd}u_bu_cE_d + \frac12 \epsilon^{abcd}u_bu^e\epsilon_{dcef} B^f \]

    Note that the first two terms are summed over all three of their lower
indeces, b d and c, which means that each individual term can have its
indeces shuffled.

\[ \Rightarrow \frac12 \epsilon^{abcd}u_bF_{dc} = \frac12 \epsilon^{abcd}u_bu_dE_c - \frac12 \epsilon^{abdc}u_bu_dE_c + \frac12 \epsilon^{abcd}u_bu^e\epsilon_{dcef} B^f \]

This may look like it makes the first two terms add constructively due
to the swap in the Levi-Civita tensor's indeces, but remember we are
summing over b, d, and c.~Which means ALL combinations of bdc will be
hit. We can show they cancel since swapping b and d will change the
sign, but not the value. For instance:

\[ \Rightarrow \frac12 \epsilon^{abcd}u_bF_{dc} = \frac12 \epsilon^{abcd}u_bu_dE_c - \frac12 \epsilon^{adbc}u_du_bE_c + \frac12 \epsilon^{abcd}u_bu^e\epsilon_{dcef} B^f \]

The L-C tensors are now two swaps away from each other, meaning they
always share the value. Meaning the E terms will cancel! (Which they
kind of had to for this to work at all.)

\[ \Rightarrow \frac12 \epsilon^{abcd}u_bF_{dc} = \frac12 \epsilon^{abcd}u_bu^e\epsilon_{dcef} B^f \]

    The double tensor relation was, in fact, given. That said we do have to
swap the first two indeces of the second tensor, which flips the sign
yet again. And then we go on\ldots{}

\[ \Rightarrow \frac12 \epsilon^{abcd}u_bF_{dc} = -\frac12 u_bu^e\epsilon^{abcd}\epsilon_{cdef} B^f \]

\[ \Rightarrow \frac12 \epsilon^{abcd}u_bF_{dc} = \delta^{ab}_{ef} u_bu^e B^a \]

\[ \Rightarrow \frac12 \epsilon^{abcd}u_bF_{dc} = (\delta^a_e \delta^b_f - \delta^a_f \delta^b_e) u_bu^eB^f \]

We need to be RELALY CAREFUL with what we're summing in both cases. Note
that a is actually constant, so each of the detlas only exist when a
equals whatever it is over, which means we can reduce to\ldots{}

\[ \Rightarrow \frac12 \epsilon^{abcd}u_bF_{dc} =  \delta^b_f u_bu^aB^f + \delta^b_e u_bu^eB^a \]

\[ \Rightarrow \frac12 \epsilon^{abcd}u_bF_{dc} =  u_fu^aB^f + u_eu^eB^a \]

\[ \Rightarrow \frac12 \epsilon^{abcd}u_bF_{dc} =  B^a \]

Which is what we sought to show.

    Originally we had a big problem thinking the sources didn't agree. We
later found out they did, so here's the notes for posterity. This first
equation is the answer.

\[ B^a = \frac12 \epsilon^{abcd}u_bF_{dc} \]

\hyperref[3]{3} Says:

\[ B_a = \frac12 \epsilon_{abcd} F^{cd} u^b \]

Remember, the Levi-Civita tensor is antisymmetric, so ORDER MATTERS.

\[ \Rightarrow B^a = \frac12 \epsilon^a_{bcd} F^{cd} u^b \]

Via \(a^cb_c = g^{cd} a_db_c = a_da^d\) we can restate\ldots{}

NOTE: due to the funky nature of the LC tensor, this accures a minus
sign.

\[ \Rightarrow B^a = - \frac12 \epsilon^{aefh} F_{fh} u_e \]

And we can set the indeces back since they're all being summed
arbitrarily.

\[ \Rightarrow B^a = - \frac12 \epsilon^{abcd} F_{cd} u_b \]

Note the indeces on the Faray tensor are reverse what Mini Numerical
Relativity gives. If we try to flip them\ldots{}

\[ \Rightarrow B^a = \frac12 \epsilon^{abcd} F_{dc} u_b \]

\hyperref[4]{4} Says:

\[ B^a = \frac12 \epsilon^{abcd}u_dF_{bc} \]

Adjust indeces.

\[ \Rightarrow B^a = \frac12 \epsilon^{adcb}u_bF_{dc} \]

Swap b and d in the LC Tensor, changing its sign.

\[ \Rightarrow B^a = -\frac12 \epsilon^{abcd}u_bF_{dc} \]

We deduce that this one is simply wrong. Could easily be a typo.

\hyperref[5]{5} is a little different but it says:

\[ B^i = \frac12 \epsilon^{0ijk} F_{kj} \]

Notably this is all in cartesian indeces, but we can change that by
putting the four-velocity into it agian. Since the paper was using
(-1,0,0,0) this pulls out a minus sign.

\[ B^a = - \frac12 \epsilon^{dabc} u_d F_{cb} \]

Index adjustment: db=bd.

\[ B^a = - \frac12 \epsilon^{badc} u_b F_{cd} \]

Flip the Faraday tensor.

\[ B^a = \frac12 \epsilon^{badc} u_b F_{dc} \]

Index shuffling for the LC-Tensor is badc -\textgreater{} abdc
-\textgreater{} abcd, two swaps, which means the sign is kept.

\[ B^a = \frac12 \epsilon^{abcd} u_b F_{dc} \]

    Okay there have been SEVERAL references to Appendix A, so we're going to
go dig around there for a while at this point. Let's see what
illuminating problems there are here:

Problem 1: just the identity matrix/tensor, trivial.

Problem 2: The symmetrization of an antisymmetric tensor vanishes.
Trivial. That said there is a good reminder of the property
\(S_{ab}A^{ab} = 0\) between Symmetric and Antisymmetric tensors.

Problem 3: The boosting of the four-velocity via Lorentz transformation,
trivial.

Problem 4: ah, this one's about the Faraday tensor! Let's do it.

    \hypertarget{problem-a4-back-to-top}{%
\section{\texorpdfstring{Problem A4 {[}Back to
\hyperref[toc]{top}{]}}{Problem A4 {[}Back to {]}}}\label{problem-a4-back-to-top}}

\[\label{A4}\]

\emph{The electric and magnetic fields in an unprimed corodinate system
are given by \(E^i\) and \(B^i\), and the Faraday tensor by 2.17. An
observer in a primed coordinate frame would identify the electric and
magnetic fields from the Faraday tensor as
\(E^{i'}= F^{t'i'} = M^{t'}_c M^{i'}_{d} F^{cd}\) and similarly for the
magnetic fields. Find the electric and magnetic fields as observed in a
reference frame that is boosted with speed v in the positive z-direction
with respect to the unprimed reference frame. Check: for the
x'-component the answer is \(E^{x'} = \gamma(E^x - vB^y)\)}

    So basically take the Faraday Tensor and apply the z-direction Lorentz
Transformation Matrix like so:

\[ \begin{bmatrix}
\gamma & 0 & 0 & -\gamma v \\
0 & 1 & 0 & 0 \\
0 & 0 & 1 & 0 \\
-\gamma v & 0 & 0 & \gamma \\
\end{bmatrix}  \begin{bmatrix}
0 & E^x & E^y & E^z \\
-E^x & 0 & B^z & -B^y \\
-E^y & -B^z & 0 & B^x \\
-E^z & B^y & -B^x & 0 \\
\end{bmatrix}\begin{bmatrix}
\gamma & 0 & 0 & -\gamma v \\
0 & 1 & 0 & 0 \\
0 & 0 & 1 & 0 \\
-\gamma v & 0 & 0 & \gamma \\
\end{bmatrix}
\]

Remember, you DO have to do it twice, once from each side, since this is
a tensor. Then just multiply it out. The result is\ldots{}

    \[ = \begin{bmatrix}
\gamma v E^z & \gamma (E^x - vB^y) & \gamma(E^y + vB^x) & \gamma E^z \\
-E^x & 0 & B^z & -B^y \\
-E^y & -B^z & 0 & B^x \\
-\gamma E^z & \gamma(-vE^x + B^y) & \gamma(-vE^y - B^x) & -\gamma v E^z \\
\end{bmatrix} \begin{bmatrix}
\gamma & 0 & 0 & -\gamma v \\
0 & 1 & 0 & 0 \\
0 & 0 & 1 & 0 \\
-\gamma v & 0 & 0 & \gamma \\
\end{bmatrix}\]

    \[ = \begin{bmatrix}
0 & \gamma (E^x - vB^y) & \gamma(E^y + vB^x) & \gamma^2 E^z (1-v^2) \\
\gamma(-E^x+vB^y) & 0 & B^z & \gamma(vE^x - B^y) \\
\gamma(-E^y - vB^x) & -B^z & 0 & \gamma(vE^y + B^x)\\
-\gamma^2 E^z (1-v^2) & \gamma(-vE^x + B^y) & \gamma(-vE^y - B^x) & 0 \\
\end{bmatrix}\]

\[ = \begin{bmatrix}
0 & \gamma (E^x - vB^y) & \gamma(E^y + vB^x) & E^z \\
\gamma(-E^x+vB^y) & 0 & B^z & \gamma(vE^x - B^y) \\
\gamma(-E^y - vB^x) & -B^z & 0 & \gamma(vE^y + B^x)\\
-E^z & \gamma(-vE^x + B^y) & \gamma(-vE^y - B^x) & 0 \\
\end{bmatrix}\]

    Which is antysymmetric and does match the check we were given. Notably
the z direction components are completley unchanged.

    \hypertarget{problem-c1-back-to-top}{%
\section{\texorpdfstring{Problem C1 {[}Back to
\hyperref[toc]{top}{]}}{Problem C1 {[}Back to {]}}}\label{problem-c1-back-to-top}}

\[\label{C1}\]

Once again, we were refered to the Appendix and found a problem.

\emph{a) Evaluate the components \(F^a_b\) of the Faraday tensor 2.17 in
a Lorentz frame where \(g_{ab} = \eta_{ab}\)}

    We need to lower the second index. One may think that in a normal
spacetime this won't matter, but no, the diagonal is (-1,1,1,1), so
which direction the sign goes across definitely matters. We want
\(\eta_{cb} F^{ac}\), which becomes in matrix form:

\[ \begin{bmatrix}
0 & E^x & E^y & E^z \\
-E^x & 0 & B^z & -B^y \\
-E^y & -B^z & 0 & B^x \\
-E^z & B^y & -B^x & 0 \\
\end{bmatrix}\begin{bmatrix}
-1 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 \\
0 & 0 & 1 & 0 \\
0 & 0 & 0 & 1 \\
\end{bmatrix}\]

\[ = \begin{bmatrix}
0 & E^x & E^y & E^z \\
E^x & 0 & B^z & -B^y \\
E^y & -B^z & 0 & B^x \\
E^z & B^y & -B^x & 0 \\
\end{bmatrix}\]

If we had lowered the other index all E values would be negative. Note
that this is NOT antisymmetric, but if we were to apply the metric again
it would be.

    \emph{b) Show that \(det(F^a_b) = -(\pmb{E} \cdot \pmb{B})^2\)}

    Right, there's no simple formula for the 4x4 determinant\ldots{} Which
means we need to go look up our how to solve for determinant methods
again. We find cofactor expansion at \hyperref[2]{2}. Let's split it up
across the top row to make it\ldots{} simpler.

\[ det(F^a_b) = 0 -E^x det \begin{bmatrix}
E^x & B^z & -B^y\\
E^y & 0 & B^x\\
E^z & -B^x & 0\\
\end{bmatrix}+E^y det \begin{bmatrix}
E^x & 0 & -B^y\\
E^y & -B^z & B^x\\
E^z & B^y & 0\\
\end{bmatrix}-E^z det \begin{bmatrix}
E^x & 0 &  B^z\\
E^y & -B^z & 0\\
E^z & B^y & -B^x\\
\end{bmatrix}\]

    Notice that the first determinant went to zero. As for the others..

\[ = - B^zB^xE^zE^x - B^yB^xE^yE^x - B^xB^xE^xE^x - B^yB^yE^yE^y - B^zB^yE^zE^y - B^xB^yE^xE^y - B^xB^zE^xE^z - B^zB^yE^yE^z - B^zB^zE^zE^z \]

\[ = - 2B^zB^xE^zE^x - 2B^yB^xE^yE^x - B^xB^xE^xE^x - B^yB^yE^yE^y - 2B^zB^yE^zE^y - B^zB^zE^zE^z \]

\[ = -(E^xB^x + E^yB^y + E^zB^z)^2 \]

\[ = -(\pmb E \cdot \pmb B)^2 \]

    \hypertarget{problem-3-back-to-top}{%
\section{\texorpdfstring{Problem 3 {[}Back to
\hyperref[toc]{top}{]}}{Problem 3 {[}Back to {]}}}\label{problem-3-back-to-top}}

\[\label{P3}\]

\emph{Consider a time coordinate t that is related to the time T by
\(t = T-h(r)\). Here h(r), assumed to depend on the radius r =
\(\sqrt{x^2+y^2+z^2}\) only, is sometimes called a \textbf{height
function}; it describes how far the t=const slice lies above the T=const
slice, as illustrated in Fig 2.1. Refer to the coordiantes
\(x^{a'}=(T,r',\theta',\phi')\) as primed and
\(x^{a}=(t,r,\theta,\phi)\) as unprimed, where we set up
\((r,\theta,\phi)=(r',\theta ', \phi ')\). In the primes frame the
metric is given by the Minkowski metric, \(g_{a'b'} = \eta_{a'b'}\).}

\emph{a) Evaluate 2.34 to find the components \(n_{a'}\) and \(n^{a'}\)
of the normal vector--normal to the t=const surfaces, that is--in the
primed frame.}

    NOTE: all ``d'' derivatives are partial derivatives, we got lazy with
typing.

2.34 is \(n_a = -\alpha \nabla_a t\). This easily becomes

\[ n_{a'} = -\alpha \nabla_{a'} (T-h(r)) = -\alpha(1,-h'(r),0,0)\]

Multiply by the metric to raise the operator

\[ n^{a'} = -\alpha(-1,-h'(r),0,0)\]

    \emph{b) Normalize the normal vector according to 2.35 to find
\(\alpha\)}

The dot product of our two vectors is

\[ \alpha^2 (-1 + h'(r)^2) \]

Which needs to equal -1. Which means\ldots{}

\[ 1-h'(r)^2 = \frac{1}{\alpha^2} \]
\[ \Rightarrow \alpha = \sqrt{\frac{1}{1-h'(r)^2}} \]

    \emph{c) Now transform the normal vector to the umprimed frame using
\(n_a = (\partial x^{b'} / \partial x^a)n_{b'}\) (See A.29). If all goes
well you will recover 2.36.}

    Following this, let's examine what that derivative means\ldots{}

For the two angular components, which never change at all, the rate is 1
as they are the exact same. \(\theta\) changes with \(\theta\) and
\(\phi\) with \(\phi\) independently, making their mixed derivatives 0
and their self derivatievs 1. But it all turns to zero anyway since
those components are always zero.

Now, r does in fact equal r', making the dr'/dr = 1. However, it also
relies in some way on the time T or t\ldots{} and we need to tease out
exactly how. What is dt'/dr? This would be dT/dr, or h'(r). This would
result in

\[ (1)(h'(r)) + (-h'(r))(1) = 0 \]

Which gives us the zero we need on our r index.

So, lastly, the t index. We want it to remain 1. This involes the
derivative dT/dt and dr/dt, which are not quite as obvious results. We
DO know that h(r) is a function of r only, so T = t + h'(r) reveals that
dT/dt = 1. This much is easy enough to show.

However, the radius\ldots{} to get the answer we ant the derivative
dr/dt better be zero, but it doesn't \emph{seem} to be the case. Since
we don't know what h is we can't just invert, and if we try to force it
we get \(dr/dt = -h^{-1'}(T-t)(T-t)'\). Aha! But T'-t' is 1-1 is 0, thus
it vanishes! We'll take that, it makes the derivative equal zero. Which
means we end up with just a single dT/dt derivative of 1, and 1 times 1
is 1. Thus\ldots{}

\[ n_a = -\alpha(1,0,0,0) \]

Which is what we sought.

    \hypertarget{problem-4-back-to-top}{%
\section{\texorpdfstring{Problem 4 {[}Back to
\hyperref[toc]{top}{]}}{Problem 4 {[}Back to {]}}}\label{problem-4-back-to-top}}

\[\label{P4}\]

\emph{Return to \textbf{Problem 3} and find the contravariant components
of \(n^a\) of the normal vector in the unprimed frame. Compare your
result with 2.40 to identify the shift factor \(\beta^i\). Hint: use
\(n^a = (\partial x^a / \partial x^{b'}) n^{b'}\)}

    So we need to do the derivatives in ``inverse'' now. The angle
derivatives do not change, don't worry about it. dr/dr' = dr/dr = 1
still. However, what of the rest? We've actually done dt/dT before, it
is also just 1.

However, now we have dt/dr and dr/dT. dt/dr is -h'(r). dr/dT actually
has the same result as dr/dt--0.

So, what does our final vector look like then with all this? We start
with (-1,-h'(r),0,0). The t coordinate becomes \(1-(h')^2\). The r
coordinate becomes h'. (remember to watch VERY CAREFULLY the order of
indeces! This trapped us up for SO LONG)

\[ n^a = \alpha(1-(h')^2, h',0,0) \]

We can force this into the form we want via.

\[ \Rightarrow n^a = \frac1\alpha(\alpha^2(1-(h')^2), \alpha^2h',0,0) \]

Note that since we found \(\alpha\) in \textbf{Problem 3}, the first
term reduces\ldots{}

\[ \Rightarrow n^a = \frac1\alpha(1, \alpha^2h',0,0) \]

Which means we get \(\beta^i\) of \((-\alpha^2 h',0,0)\) via 2.40.

Had to rely on the answers for this one, as we were getting a
non-transformation. But we understand it fully now. Be VERY careful with
terms, we lost a square the last time we did this, took a while to track
down.

    \hypertarget{problem-5-back-to-top}{%
\section{\texorpdfstring{Problem 5 {[}Back to
\hyperref[toc]{top}{]}}{Problem 5 {[}Back to {]}}}\label{problem-5-back-to-top}}

\[\label{P5}\]

\emph{a) Show that \(A^a_{||}\) is indeed normal by showing that its
contraction with the projection operator \(\gamma^a_b\) vanishes.}

    From 2.45 we get the definition of the paralell operator, giving us:

\[ - \gamma^a_b n^a n_b A^b \]

The proejction operator is 2.47.

\[ = - (g^a_b + n^an_b) n^a n_b A^b \]

\[ = -\delta^a_bn^a n_b A^b -n^an_b n^a n_b A^b \]

    \[ = - n^a n_a A^a - n^an_b n^a n_b A^b \]

\[ = A^a - n^an_b n^a n_b A^b \]

\[ = A^a - g^{ac}g_{bc}n_cn_b n^a n^c A^b \]

\[ = A^a + g^a_bn_b n^a A^b \]

\[ = A^a + \delta^a_bn_b n^a A^b \]

\[ = A^a + n_a n^a A^a \]

\[ = A^a - A^a \]

\[ = 0 \]

    \emph{b) Show that \(A^a_\perp\) is indeed spatial by showing that its
contraciton with the normal vector \(n^a\) vanishes.}

From 2.46 we get

\[ n^a(g^a_b + n^an_b)A^b \]

\[ = n^ag^a_bA^b + n^an^an_bA^b \]

\[ = n^a\delta^a_bA^b + g^{ac}g_{bc}n^an^bn_bA^b \]

\[ = n^a\delta^a_bA^b - \delta^a_bn^aA^b \]

\[ = 0 \]

This reveals to us a NEW TOOL: the pulling out of the delta to change
indeces!

NOTE: Writing this down somewhere so we don't make the mistake again:
\(n^a \neq g^{aa}n_a\)

    \emph{c) Show that \(\gamma^a_b\gamma^b_c=\gamma^a_c\). This property
guarantees that projecting an object that has already been projected
will no longer change the object. Putting it differently, the projection
operator acts like the identity operator for spatial objects.}

This is

\[ (g^a_b + n^an_b)(g^b_c + n^bn_c) \]

\[ = g^a_bg^b_c +g^a_bn^bn_c + n^an_bg^b_c + n^an_bn^bn_c \]

\[ = g^a_c + g^a_bn^bn_c + n^an_bg^b_c - n^an_c \]

\[ = g^a_c + n^an_c + n^an_c - n^an_c \]

\[ = g^a_c + n^an_c \]

And that's that!

    \hypertarget{problem-6-back-to-top}{%
\section{\texorpdfstring{Problem 6 {[}Back to
\hyperref[toc]{top}{]}}{Problem 6 {[}Back to {]}}}\label{problem-6-back-to-top}}

\[\label{P6}\]

\emph{Find the components of the operator \(\gamma^a_b\) that projects
into the t=const slices described in \textbf{Problem 3} and
\textbf{Problem 4}.}

Well, we can already split it up a bit, the operator as a whole is:

\[ \delta^a_b + n^an_b \]

Now the components of the delta are always known, diagonal of (1,1,1,1).
It's the vector options that change things up. The thing is, which
version of the ns do we use? We have both T and t versions, we need to
be careful. We want the t=const slices, which means we want the primed
frame. Which means an outer product of the following:

\[ n_{a'} = -\alpha(1,-h'(r),0,0)\]

\[ n^{a'} = -\alpha(-1,-h'(r),0,0)\]

    We can do most of this multiplicaiton in our sleep, so all that remains
is to set up the matrix to display the answer.

\[ \gamma^a_b = \begin{bmatrix}
1-\alpha^2 & -\alpha^2h' & 0 & 0 \\
\alpha^2h' & 1+\alpha^2(h')^2& 0 & 0 \\
0 & 0 & 1 & 0 \\
0 & 0 & 0 & 1 \\
\end{bmatrix}\]

Evidentialy antisymmetric.

Now if we were to use the OTHER set\ldots{}

\[ n_a = -\alpha(1,0,0,0) \]

\[ n^a = \alpha(1-h', h',0,0) \]

\[ \Rightarrow n^a = \frac1\alpha(1, \alpha^2h',0,0) \]

    We would end up with a matrix:

\[ \gamma^a_b = \begin{bmatrix}
0 & 0 & 0 & 0 \\
-\alpha^2h' & 1 & 0 & 0 \\
0 & 0 & 1 & 0 \\
0 & 0 & 0 & 1 \\
\end{bmatrix}\]

This is the one given in the answers, so we need to figure out why we
got it backward.

HERE IS WHY WE GOT IT BACKWARD: it said that we were finding t=const. IN
\textbf{Problem 3} it was said we were finding the normal vector to the
t=const in the primed frame. But if we look at those vectors they aren't
the standard variety, they were translated! Naturally, we HAVE to use
the (1,0,0,0) form, because that's what the normal vector looks like in
the correct reference frame.

We still keep the previous answer around for posterity.

    \hypertarget{problem-7-back-to-top}{%
\section{\texorpdfstring{Problem 7 {[}Back to
\hyperref[toc]{top}{]}}{Problem 7 {[}Back to {]}}}\label{problem-7-back-to-top}}

\[\label{P7}\]

\emph{Insert the definition 2.34 into 2.53 to show that the extrinsic
curvature is symmetric, \(K_{ab} = K_{ba}\) or equivalently
\(K_{[ab]}=0\)}

Well, K is given by 2.53 \(-\gamma^c_a \gamma^d_b \nabla_c n_d\) and
2.34 is

\[ n_a = -\alpha \nabla_a t \]

    So combining it all together we now have
\(\gamma^c_a\gamma^d_b\nabla_c \alpha \nabla_d t\)

    We note that we are not summing over a or b so we can just shuffle them
at will. What we need to show is:

\[\gamma^c_a\gamma^d_b\nabla_c \alpha \nabla_d t = \gamma^c_b\gamma^d_a\nabla_c \alpha \nabla_d t \]

Since we're summing over the terms c and d, interchanging them doesn't
do anything, they always go through all their values.

\[\Rightarrow \gamma^d_a\gamma^c_b\nabla_d \alpha \nabla_c t = \gamma^c_b\gamma^d_a\nabla_c \alpha \nabla_d t \]

If \(\alpha\) were a constant this would be trivial, as derivatives
commute. But \(\alpha\) can be a function.

While that step above is true, it is not all that helpful. What is
helpful is the following.

\[ \gamma^d_a\gamma^c_b = \gamma^d_a\delta^c_d\gamma^d_b = \gamma^c_a\gamma^d_b\]

That is we can swap the c and d of the \(\gamma\)s \emph{without}
swapping the c and d on the derivatives.

\[\gamma^c_a\gamma^d_b\nabla_c \alpha \nabla_d t = \gamma^c_b\gamma^d_a\nabla_c \alpha \nabla_d t \]
\[\Rightarrow \gamma^d_a\gamma^c_b\nabla_c \alpha \nabla_d t = \gamma^c_b\gamma^d_a\nabla_c \alpha \nabla_d t \]

And we're done!

    \hypertarget{problem-8-back-to-top}{%
\section{\texorpdfstring{Problem 8 {[}Back to
\hyperref[toc]{top}{]}}{Problem 8 {[}Back to {]}}}\label{problem-8-back-to-top}}

\[\label{P8}\]

\emph{Compute the extrinsic curvature for the t=const slices in
\textbf{Prolems 3, 4, 6}.}

\emph{a) Start by showing that the metric
\(g_{ab} = (\partial x^{c'}/\partial x^{a})(\partial x^{d'}/\partial x^b)\eta_{c'd'}\)
in the unprimed coordinate system is}

\[ g_{ab} = \begin{bmatrix}
-1 & -h' & 0 & 0 \\
-h' & 1-(h')^2 & 0 & 0 \\
0 & 0 & r^2 & 0 \\
0 & 0 & 0 & r^2sin^2\theta \\
\end{bmatrix}\]

    We know that the flat metric for spherical coordiantes is the diagonal
(-1,1,\(r^2\),\(r^2sin^2\theta\)) and that the derivatives for those
sections are always just 1, so once again the angular components do not
matter.

However, as for the other derivatives\ldots{} we have calculated all of
them before, it seems. However, we need to be careful with our sums. For
explicit purposes, let's just delare all the derivatives here: remember,
the primed values all equal the original ones save for t'=T.

\[\partial r/\partial r = \partial \theta / \partial \theta = \partial \phi / \partial \phi = \partial T / \partial t = \partial t / \partial T = 1 \]

\[ \partial T/\partial \theta = \partial T / \partial \phi = \partial t / \partial \theta = \partial t / \partial \phi = \partial \theta / \partial \phi = \partial \phi / \partial \theta = \partial r / \partial \theta = \partial r / \partial \phi = \partial r / \partial T = \partial r / \partial t = \partial \theta / \partial r = \partial \phi / \partial r = \partial \theta / \partial t = \partial \phi / \partial t = \partial \theta / \partial T = \partial \phi / \partial T = 0\]

\[ \partial t / \partial r = -h' \]

\[ \partial T / \partial r = h' \]

    First, the ``tt'' location. This evaluates as
\((dT/dt)(dT/dt)(-1) + 0 = -1\)

Next, the ``rr'' location. This evalutes as \$(dr/dr)(dr/dr)(1) +
(dT/dr)(dT/dr)(-1) + 0 = 1-(h')\^{}2 \$

Last, the ``tr'' location. Our formula has symmetry so they're both the
same. \$(dr/dr)(dr/dt)(1) + (dT/dr)(dT/dt)(-1) + 0 = -h' \$

Which completes the matrix.

    \emph{b) Invert your result from a) to show that the inverse metric
\(g^{ab}\) in the unprimed coordinate system is}

\[ g^{ab} = \begin{bmatrix}
-1+(h')^2 & -h' & 0 & 0 \\
-h' & 1 & 0 & 0 \\
0 & 0 & r^{-2} & 0 \\
0 & 0 & 0 & r^{-2}sin^{-2}\theta \\
\end{bmatrix}\]

    The independence of the angular components makes the angular rows and
columns essentially automatic, reducing the problem to that of inverting
a 2x2 matrix. There's a formula for this somewhere, we went to look it
up. \hyperref[2]{2} provides it to us:

\[A^{-1} = \frac{1}{detA} \begin{bmatrix}
d & -b \\
-c & a \\
\end{bmatrix}\]

So we need the determinant of our 2x2 section. This is\ldots{}

\[ (-1 + (h')^2) - (h')^2 = -1 \]

Thus the inverse matrix is

\[A^{-1} = (-1) \begin{bmatrix}
1-(h')^2 & h' \\
h' & -1 \\
\end{bmatrix}\]

Which quickly becomes the matrix we seek.

    \emph{c) Now expand the covariant derivative in 2.53}

\[\nabla_a n_b = \partial_a n_b - n_c {}^{(4)}\Gamma^c_{ab} = \partial_a n_b - n_t {}^{(4)} \Gamma^t_{ab}\]

\emph{Evidently we need all the Christoffel symbols with a t index
upstairs. Evaluate 1.31 to find all of them. Hint: the only nonzero ones
are \$\{\}\textsuperscript{\{(4)\}\Gamma}t\_\{rr\},
\{\}\textsuperscript{\{(4)\}\Gamma}t\_\{\theta\theta\} = rh',
\{\}\textsuperscript{\{(4)\}\Gamma}t\_\{\phi\phi\} \$. Example provided
in book omitted.}

    1.31 is the standard Christoffel expression.

\[ {}^{(4)}\Gamma^a_{bc} = \frac12 g^{ad}(\partial_c g_{db} + \partial_b g_{dc} - \partial_d g_{bc}) \]

    So, rather than just trusting the hint, let's reason this out. We need
the christoffels with a t on top. So let's jsut go ahead and produce a
matrix out of it.

First of all, \(g^{td}\) only exists for d=t, r. So we can expand the
equation in general.

\[ {}^{(4)}\Gamma^t_{bc} = \frac12 g^{tt}(\partial_c g_{tb} + \partial_b g_{tc} - \partial_t g_{bc}) + \frac12 g^{tr}(\partial_c g_{rb} + \partial_b g_{rc} - \partial_r g_{bc}) \]

\[  = \frac12 (-1+(h')^2) (\partial_c g_{tb} + \partial_b g_{tc} - \partial_t g_{bc}) - \frac12 h'(\partial_c g_{rb} + \partial_b g_{rc} - \partial_r g_{bc}) \]

    Now, when do these vanish? Well, there are the cases where every metric
is zero or a constant (which will make the derivative zero). It's easier
to count the places where this DOESN'T happen: tr, rt, rr,
\(\theta\theta\), \(\phi\phi\). All else go to zero in the above
equation. This means all the nonzero POSSIBILITIES for nonzero bc
are\ldots{}

\[ bc = rt, rr, r\theta, r\phi, tr, \theta r, \phi r, \theta\theta, \phi\phi, t \theta, t \phi, \phi t, \theta t, tt \]

    Which ironically means we have only outirght eliminated
\(\phi\theta, \theta\phi\) as zero. Well, still, that's progress.

Are we guaranteed symmetry? Yes, by the Christoffel rules for the lower
indecies, so from our list we can remove any duplicates.

\[ bc = rt, rr, r\theta, r\phi, \theta\theta, \phi\phi, t \theta, t \phi, tt \]

The angles should be the easiest to remove, for every metric with an
angle in it evaluates to zero. Then, if we only have one angular
coordinate, we are taking a derivative with respect to said angle in the
remaining index, and none of the metrics (save \(\phi\phi\)) have any
angular dependence at all, and the remaining metric has to have a t or
an r in it, so all of them go to zero.

\[ bc = rt, rr, \theta\theta, \phi\phi, tt \]

    Now, this is almost the list we originally proposed, save for tt. What
does tt accomplish, though? Well, it makes every metric evaluate to -1
in the left half (which vanish upon derivatives). On the right half, it
ends up trying to take time derivatievs of h'. h' is a function of r
only, not t. Thus, it vanishes as well, resulting in zero for tt.

    Now, what of rt, we know that has to go. On the left side, this also
results in attempts of taking time derivatives of h', which goes
nowhere. On the right side, however, we end up with h'\,' - h'\,' as we
were taking r derivatives, but they cancel to zero as well. This just
leaves us the ones we know have a result: \(rr, \theta\theta, \phi\phi\)
Middle one first since we have a result for that.

\[ {}^{(4)}\Gamma^t_{\theta\theta} = \frac12 (-1+(h')^2) (\partial_\theta g_{t\theta} + \partial_\theta g_{t\theta} - \partial_t g_{\theta\theta}) - \frac12 h'(\partial_\theta g_{r\theta} + \partial_\theta g_{r\theta} - \partial_r g_{\theta\theta}) \]
\[  = \frac12 h'( \partial_r g_{\theta\theta}) \] \[  = \frac12 h' 2r \]
\[ = rh' \]

Which matches our hint.

    \[ {}^{(4)}\Gamma^t_{\phi\phi} = \frac12 (-1+(h')^2) (\partial_\phi g_{t\phi} + \partial_\phi g_{t\phi} - \partial_t g_{\phi\phi}) - \frac12 h'(\partial_\phi g_{r\phi} + \partial_\phi g_{r\phi} - \partial_r g_{\phi\phi}) \]
\[  = \frac12 h'(\partial_r g_{\phi\phi}) \]
\[  = \frac12 h'2rsin^2\theta \] \[  =  rh'sin^2\theta \]

    \[ {}^{(4)}\Gamma^t_{rr} = \frac12 (-1+(h')^2) (\partial_r g_{tr} + \partial_r g_{tr} - \partial_t g_{rr}) - \frac12 h'(\partial_r g_{rr} + \partial_r g_{rr} - \partial_r g_{rr}) \]
\[  =  (-1+(h')^2) (\partial_r g_{tr}) - \frac12 h'(\partial_r g_{rr}) \]
\[  =  (1-(h')^2) h'' + \frac12 h' 2 h' h'' \]
\[  =  h''-(h')^2h'' + (h')^2 h'' \] \[  = h'' \]

    \[ {}^{(4)}\Gamma^t_{bc} = \begin{bmatrix}
0 & 0 & 0 & 0 \\
0 & h'' & 0 & 0 \\
0 & 0 & rh' & 0 \\
0 & 0 & 0 & rh'sin^2\theta \\
\end{bmatrix}\]

And it is now complete!

    \emph{d) Now insert your results into 2.53 to find the extrinsic
curvature \(K_{ij}\). \(K_{\theta\theta} = -\alpha r h'\).}

    \[ K_{ab} = -\gamma^c_a \gamma^d_b \nabla_c n_d\]
\[ = -\gamma^c_a \gamma^d_b (\partial_c n_d - n_t {}^{(4)}\Gamma^t_{cd})\]

    Now we should go grab the various n-values we calculated already in the
unprimed frame.

\[ n_a = -\alpha(1,0,0,0) \]

\[ n^a = \alpha(1-h', h',0,0) \]

Also the projection operator.

\[ \gamma^a_b = \begin{bmatrix}
0 & 0 & 0 & 0 \\
-\alpha^2h' & 1 & 0 & 0 \\
0 & 0 & 1 & 0 \\
0 & 0 & 0 & 1 \\
\end{bmatrix}\]

    And it is becoming rather clear that even with all the zeroes this isn't
exactly giong to be a simple reasult. We can, however, replace the
t-component.

\[ = -\gamma^c_a \gamma^d_b (\partial_c n_d + \alpha {}^{(4)}\Gamma^t_{cd})\]

    We see a potential problem: what if we have to evaluate
\(\partial_r n_t\)? That will only occur if c=r and d=t. Which will
never happen. We note that the top row of the projeciton operator is all
zeroes, so d=t will always go to nothing. Thus the partial derivative
never evaluates to anything and can be ignored. (What of the portions of
the vector that are zero? Well, the normal vector may change based on
\(\alpha\), but from our observation standpoint the first term is the
ONLY term, the other three are always going to be zero. So we can just
utterly ignore the term.

\[ = -\gamma^c_a \gamma^d_b \alpha {}^{(4)}\Gamma^t_{cd}\]

No matter what a and b are, the sum over c and d always occurs in its
entirity. Fortunately the Christoffels only exist for three of these.

\[ = -\gamma^r_a \gamma^r_b \alpha {}^{(4)}\Gamma^t_{rr} -\gamma^\theta_a \gamma^\theta_b \alpha {}^{(4)}\Gamma^t_{\theta\theta}-\gamma^\phi_a \gamma^\phi_b \alpha {}^{(4)}\Gamma^t_{\phi\phi}\]

\[ = -\gamma^r_a \gamma^r_b \alpha h'' -\gamma^\theta_a \gamma^\theta_b \alpha rh' -\gamma^\phi_a \gamma^\phi_b \alpha rh'sin^2\theta\]

    No, we're still not done\ldots{} a and b are now the indexes on our
final \(K_{ab}\) matrix. Both terms need to exist for this to work. The
locaitons are rt, rr, \(\theta\theta\), and \(\phi\phi\) for the
projection operator. This means that ab has the options rr, rt, tr, tt,
\(\theta\theta\), \(\phi\phi\), all others are zero.

The angular ones are simple, as they are just 1, they evaluate straight
as the last two terms. We even get \(-\alpha rh'\) for \(\theta\theta\)
as we should.

Now all we have to worry about is the first term:

\[ \Rightarrow -\gamma^r_a \gamma^r_b \alpha h'' \]

In the case of ab=rr this is just antoher 1 case, simple.

But what of the other three cases?

However, the other cases produce extra terms of \(-\alpha^2h'\) and
\(\alpha^4(h')^2\) Thus\ldots{}

    \[ K_{ab} = \begin{bmatrix}
-\alpha^5(h')^2 h'' & \alpha^3 h' h'' & 0 & 0 \\
\alpha^3 h' h'' & -\alpha h'' & 0 & 0 \\
0 & 0 & -\alpha rh' & 0 \\
0 & 0 & 0 & -\alpha rh' sin^2\theta \\
\end{bmatrix}\]

    The answers say the lower three diagonal terms are correct, but implies
that the three top left terms are supposed to be 0. Curious. How can the
three diagonal terms be absoltuely right and the others not?

THE REASON: the spatial projection operator projects things to be
spatial in relation to the normal vector. \textbf{The Normal Vector for
this problem is not temporal, that is, not of the form (a,0,0,0).} In
fact, it is given by \((\frac1\alpha , \alpha h', 0 , 0)\) So, if we
double contract the tensor, we should get zero.

\[ n^an^bK_{ab} = 0? \]

Which only the top left quadrant provides anything to\ldots{}

\[-\alpha^3 (h')^2h'' + \alpha^3 (h')^2 h'' + \alpha^3 (h')^2 h'' - \alpha^3 (h')^2 h'' = 0\]

Which means, yes, K is purely spatial by the definition OF spatial!
(This even works with just one vector applied to it, though it results
in the zero vector (0,0,0,0) rather than zero itself).

Which means that our answer checks out. The three coordinates given in
the answers are correct, but the three in the top corner do NOT need to
be zero, by the definition of spatial-ness!

That said\ldots{} we would now like to figure out what the extrinsic
curvature for a (1,0,0,0) vector would be. Consider this a bonus
challenge. We actually already have a relation for something similar, as
the one-form is (-1,0,0,0). So if we can just identify the
transofrmation that takes the vector to the one-form, we can transform
the extrinsic curvature in the same way.

We can reduce this to a 2D problem since the angular dependenceis are
irrelevant, which means we are looking for the transformation:

\[ \lambda_{ab}(\frac1\alpha, \alpha h') = (-\alpha, 0) \]

We know the transformation has to be symmetric, but that leaves us with
three unknowns. Three unknowns, two equations. Since our transformation
is symmetric we don't have to worry about index order.

    \[ a + c \alpha^2 h' = -\alpha^2 \] \[ c + d \alpha^2 h' = 0 \]

We do know that we want, when we apply the inverse transformation to the
extrinsic curvature matrix, to end up with zeroes in three positions.
Basically, is there a matrix that satisfies both the above and\ldots{}

\[ -a \alpha^5 (h')^2 h'' + c \alpha^3 h' h'' = 0 \]
\[ a \alpha^3 h' h'' - c \alpha h'' = 0 \]
\[ -c \alpha^5 (h')^2 h'' + d \alpha^3 h' h'' = 0 \]

Now this is more information. The top two aren't the best though as they
are just linear combinations and not truly independent, but we can still
work with this, especially relating the previous two equations.

\[ c = a\alpha^2 h' \] \[ c = \frac{d}{\alpha^2 h'}\]
\[ d = a\alpha^4 (h')^2 \]

\[ a = \frac{-\alpha^2}{1+\alpha^2 (h')^2} = \frac{-\alpha^2}{1+\alpha^2 (h')^2} \]

Since we know what \(\alpha\) is we can substitute it and this gives us
a chance to use SYMPY!

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{1}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{sympy} \PY{k}{as} \PY{n+nn}{sym}
\PY{n}{x} \PY{o}{=} \PY{n}{sym}\PY{o}{.}\PY{n}{symbols}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{x}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{func} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{1} \PY{o}{/} \PY{p}{(}\PY{l+m+mi}{1}\PY{o}{\PYZhy{}}\PY{n}{x}\PY{o}{*}\PY{n}{x}\PY{p}{)}\PY{p}{)}\PY{o}{/}\PY{p}{(}\PY{l+m+mi}{1}\PY{o}{+}\PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{n}{x}\PY{p}{)}\PY{o}{*}\PY{p}{(}\PY{l+m+mi}{1}\PY{o}{/}\PY{p}{(}\PY{l+m+mi}{1}\PY{o}{\PYZhy{}}\PY{n}{x}\PY{o}{*}\PY{n}{x}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\PY{n}{func2} \PY{o}{=} \PY{n}{sym}\PY{o}{.}\PY{n}{simplify}\PY{p}{(}\PY{n}{func}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{n}{func2}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{simplified version of}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{func}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
1
simplified version of
    \end{Verbatim}
 
            
\prompt{Out}{outcolor}{1}{}
    
    $\displaystyle \frac{1}{\left(1 - x^{2}\right) \left(\frac{x^{2}}{1 - x^{2}} + 1\right)}$

    

    Pff, okay, so a=1.

Which makes c=\(\alpha^2 h'\) and d=\(\alpha^4 (h')^2\)

Now, the question is, does this still satisfy our original requirements?
\ldots No, it does not, dangit. The transformation may not exist. Oh
well, this was me trying to go above and beyond anyway.

    This is what we hope the other form is, if it even exists.

\[ K_{ab} = \begin{bmatrix}
0 & 0 & 0 & 0 \\
0 & -\alpha h'' & 0 & 0 \\
0 & 0 & -\alpha rh' & 0 \\
0 & 0 & 0 & -\alpha rh' sin^2\theta \\
\end{bmatrix}\]

Note that this is the result if the gamma-matrices are transposed as to
what they are ``supposed'' to be. Almost like all the components were
transformed\ldots{}

    \hypertarget{problem-9-back-to-top}{%
\section{\texorpdfstring{Problem 9 {[}Back to
\hyperref[toc]{top}{]}}{Problem 9 {[}Back to {]}}}\label{problem-9-back-to-top}}

\[\label{P9}\]

\emph{Show that a normal observer measures the magnetic field \(B^a\) to
be \(B^a = \epsilon^{abc} D_b A^\perp_c\) where
\(\epsilon^{abc} = n_d\epsilon^{dabc}\) is the spatial Levi-Civita
tensor. Hint: use part b of \textbf{Problem 2}.}

    " Show that an observer with (arbitrary) four-velocity \(u^a\) will
measure the electric field to be \(E^a = F^{ab}u_b\) and the magnetic
field to be \(B^a = \epsilon^{abcd}u_b F_{dc}/2\). "

    Well, we did that (with much sweat, tears, and confusion), so now we
just need to play funky with operators and indeces.

BEWARE: DO NOT TRUST THE LEVI-CIVITA TENSOR, WATCH FOR SIGN FLIPS.

\[ B^a = \frac12 \epsilon^{abcd} u_b F_{dc}  \]

\[ = -\frac12 \epsilon^{bacd} u_b F_{dc} \]

\[ = -\frac12 \epsilon^{acd} F_{dc} \]

\[ = -\frac12 \epsilon^{abc} F_{cb} \]

\[ = \frac12 \epsilon^{abc} F_{bc} \]

\[ = \frac12 \epsilon^{abc} ( D_bA_c^\perp - D_cA_b^\perp + n_bE_c - n_cE_b ) \]

IN COMPLETE GENERALITY, anything of the form bc-cb summed over b and c
with a contraction by the \$\epsilon\^{}\{abc\} \$ will become 2bc-2cb
(when indeces are replaced), which can be represented by just 2bc.

\[ = \frac12 \epsilon^{abc} ( 2D_bA_c^\perp + 2n_bE_c ) \]

\[ = \epsilon^{abc} ( D_bA_c^\perp + n_bE_c ) \]

via 2.67. Note that \(n_a\) is here. And that we are NORMAL OBSERVERS.
Which means that only the t component exists, for every other component
the E term vanishes and we have what we want. However, there are
REMAINING terms\ldots{} Let's look at those. One might say that, since
we have the spatial LC tensor, that no t-terms can exist at all\ldots{}
which is true! Remember, \(n_d\) only exists on \(n_t\) meaning the
contraction forces \(\epsilon^{tabc}\), meaning of abc none of them are
ALLOWED to take the t value! When we performed the contraction we DID
restrict the options. This means that, since b cannot be t, the electric
term vanishes.

\[ = \epsilon^{abc} (D_bA_c^\perp ) \]

    \hypertarget{problem-10-back-to-top}{%
\section{\texorpdfstring{Problem 10 {[}Back to
\hyperref[toc]{top}{]}}{Problem 10 {[}Back to {]}}}\label{problem-10-back-to-top}}

\[\label{P10}\]

\emph{Show that the acceleration of a normal observer 2.59 is related to
the lapse \(\alpha\) according to \(a_a = D_a ln\alpha\). HInt: This
requires several steps. Insert \(n_a = -\alpha\nabla_a t\) into the
definition of \(a_a\), commute the second derivatives of t, use
\(n^b\nabla_an_b=0\), and finally recall the definition of the spatial
covariant derivative.}

    The larger book has an ecplicit statement of the spatial covariant
derivative acting on a scalar: \(D_a f = \gamma^b_a \nabla_b f\)

    We remember this problem from the larger Numerical Relativity book. No,
we couldn't solve it there, but maybe the hints here will assist.

\[ a_a = n^b \nabla_b n_a \]

\[ \Rightarrow a_a = - n^b \nabla_b \alpha \nabla_a t \]

\[ \Rightarrow a_a = - n^b \alpha \nabla_b \nabla_a t - n^b (\nabla_b \alpha) (\nabla_a t)   \]

\[ \Rightarrow a_a = - n^b \alpha \nabla_a \nabla_b t - n^b (\nabla_b \alpha) (\nabla_a t)   \]

\[ \Rightarrow a_a = + \alpha n^b \nabla_a \frac1\alpha n_b - n^b (\nabla_b \alpha) (\nabla_a t)   \]

\[ \Rightarrow a_a = n^b \nabla_a n_b + \alpha n^b n_b \nabla_a \frac1\alpha - n^b (\nabla_b \alpha) (\nabla_a t)   \]

\[ \Rightarrow a_a = 0 - \alpha \nabla_a \frac1\alpha - n^b (\nabla_b \alpha) (\nabla_a t)   \]

\[ \Rightarrow a_a = - \alpha \nabla_a \frac1\alpha + n^b n_a \frac1\alpha (\nabla_b \alpha)    \]

\[ \Rightarrow a_a = - \alpha \nabla_a \frac1\alpha + (\gamma^b_a - \delta^b_a) (\nabla_b ln \alpha)    \]

\[ \Rightarrow a_a = \nabla_a ln\alpha + D_a ln\alpha - \delta^b_a \nabla_b ln \alpha    \]

\[ \Rightarrow a_a = \nabla_a ln\alpha + D_a ln\alpha - \nabla_a ln \alpha    \]

\[ \Rightarrow a_a = D_a ln\alpha \]

Wow, that was jumping through QUITE a few hoops right there. This also
answers a problem in the normal Numerical Relativity book.

EDIT: since when we went over this we got confused, remember,
\(\alpha \nabla_a \frac1\alpha = - \frac1\alpha \nabla_a \alpha\) due to
the way fractional logs work--they are subtractions. ln(1) = 0, as a
reminder.

    \hypertarget{problem-11-back-to-top}{%
\section{\texorpdfstring{Problem 11 {[}Back to
\hyperref[toc]{top}{]}}{Problem 11 {[}Back to {]}}}\label{problem-11-back-to-top}}

\[\label{P11}\]

\emph{In general the Lie derivative along a vector field \(w^a\) of a
scalar \(\psi\) is}

\[ \mathcal{L}_w \psi = w^b \nabla_b \psi \]

\emph{that of a contravariant vector field \(v^a\) is the commutator
\([w^b,v^a]\),}

\[ \mathcal{L}_w v^a = [w^b,v^a] = w^b \nabla_b v^a - v^b \nabla_b w^a \]

\emph{and that of a covariant vector field \(v_a\) is}

\[ \mathcal{L}_w v_a = w^b \nabla_b v_a + v_b \nabla_a w^b \]

\emph{Use the first two equations to derive the third.}

    Source \hyperref[6]{6} From Leo Werneck was unbelievably helpful here,
both in understanding what the Lie Derivative was, AND in the trick
required to make this work. The trick? \(v_av^a\) is a scalar.
So\ldots{}

\[ \mathcal{L}_w (v_av^a) = w^b \nabla_b (v_av^a) \]

\[ = w^b v_a \nabla_b v^a + w^b v^a \nabla_b v_a \]

But the Lie derivative itself ALSO obeys the product rule, so we have:

\[ \mathcal{L}_w (v_av^a) = v_a \mathcal{L}_w v^a + v^a \mathcal{L}_w v_a \]

    Which means\ldots{} we can make some substitutionas as we already know
what the lie derivative of a VECTOR is\ldots{}

\[ \Rightarrow w^b v_a \nabla_b v^a + w^b v^a \nabla_b v_a = v_a (w^b \nabla_b v^a - v^b \nabla_b w^a) + v^a \mathcal{L}_w v_a \]

    Cancel terms and simplify.

\[ \Rightarrow w^b v^a \nabla_b v_a + v_a v^b \nabla_b w^a = v^a \mathcal{L}_w v_a \]

Adjust indeces

\[ \Rightarrow w^b v^a \nabla_b v_a + v_b v^a \nabla_a w^b = v^a \mathcal{L}_w v_a \]

Remove the leading v.

\[ \Rightarrow w^b \nabla_b v_a + v_b \nabla_a w^b = \mathcal{L}_w v_a \]

Which is exactly what we sought.

    \hypertarget{problem-12-back-to-top}{%
\section{\texorpdfstring{Problem 12 {[}Back to
\hyperref[toc]{top}{]}}{Problem 12 {[}Back to {]}}}\label{problem-12-back-to-top}}

\[\label{P12}\]

\emph{Show that all terms involcing Christoffel symbols in 2.73 cancel,
so that we may also write the Lie derivative in terms of partial
derivatives.}

\[ \mathcal{L}_n A^\perp_d = n^c \partial_c A^\perp_d + A^\perp_c \partial_d n^c \]

\emph{This is a general property of Lie derivatives.}

This was solved in \textbf{Problem A.1} for Tensors in the big Numerical
Relativity book, see NR-02 notebook. It should, in theory, be simpler
for the one=form verison.

    What we ultimately need here is to show that every Christoffel term
vanishes, leaving only the partial derivative terms. For that, we turn
to our book on General Relativity. Equations 6.33 through 6.35 give us
all the information we need about covariant derivatives acting on
tensors. We're also going to leave off the perpendicular symbol since
this is a general rule.

\[ 0 = - n^c \Gamma^u_{cd} A_u + A_c \Gamma^c_{ud} n^u \]

Now since these terms are independent, some clever index rearranging can
give us..

\[ = - n^c \Gamma^u_{cd} A_u + A_u \Gamma^u_{cd} n^c \]

\[ = 0 \]

Which is exactly what we needed to show.

    \hypertarget{problem-13-back-to-top}{%
\section{\texorpdfstring{Problem 13 {[}Back to
\hyperref[toc]{top}{]}}{Problem 13 {[}Back to {]}}}\label{problem-13-back-to-top}}

\[\label{P13}\]

\emph{Verify equation 2.79}

\[\alpha \mathcal{L}_n A^\perp_d = \mathcal{L}_{\alpha n} A^\perp_d = \mathcal{L}_t A^\perp_d - \mathcal{L}_\beta A^\perp_d \]

Once again we will leave the perpendicular notaiton off since it's
irrelevant to this problem.

    2.78 gives us the definition \(\alpha n^a = t^a - \beta^a\).

Let's start completely from the left.

\[\alpha \mathcal{L}_n A_d =  \alpha n^c \nabla_c A_d + \alpha A_c \nabla_d n^c\]

Since A is known to be spatial, we can apply 2.71, shuffling the order
and sign of the second term.

\[ =  \alpha n^c \nabla_c A_d - \alpha n^c \nabla_d A_c \]

Now, treat \(\alpha n^c\) as a singular object. It only has index c so
we can use 2.71 again.

\[ =  \alpha n^c \nabla_c A_d + A_c \nabla_d \alpha n^c \]

\[ = \mathcal{L}_{\alpha n} A_d \]

And we're one step closer. The last step is rather trivial and doens't
really involve tricks. Revert to previous step:

\[ =  \alpha n^c \nabla_c A_d + A_c \nabla_d \alpha n^c \]

Replace everything with the definition 2.78.

\[ =  t^c \nabla_c A_d + A_c \nabla_d t^c - \beta^c \nabla_c A_d - A_c \nabla_d \beta^c \]

\[ = \mathcal{L}_t A^\perp_d - \mathcal{L}_\beta A^\perp_d \]

    \hypertarget{problem-14-back-to-top}{%
\section{\texorpdfstring{Problem 14 {[}Back to
\hyperref[toc]{top}{]}}{Problem 14 {[}Back to {]}}}\label{problem-14-back-to-top}}

\[\label{P14}\]

\emph{Derive 2.83. Hint: As before, you can start with
\(\nabla_a F^{ab} = g^b_c \nabla_a F^{ac} = (\gamma^b_c - n^bn_c)\nabla_a F^{ac}\),
then insert 2.67 in to the first term, make the identificaitons
\(E^a = n_c F^{ac}\) as well as \(\nabla_a n_c = -K_{ac} -n_aa_c\) (see
2.61) in the second term, and show that
\(D_aE^a = \nabla_a E^a - E^aa_a\).}

2.83: \$ \nabla\_a F\^{}\{ab\} = \gamma\^{}b\_c (\mathcal{L}\emph{n
E\^{}c - E\^{}c K + \nabla\emph{a (D\^{}a A\^{}c}\perp - D\^{}c
A\^{}a}\perp)) - n\^{}b D\_a E\^{}a \$

    2.67: \(F^{ab} = D^a A^b_\perp - D^b A^a_\perp + n^aE^b - n^bE^a\)

    Okay so contrary to appearances this is actually a LONG problem, and
filled up almost my entire scratch work sheet for the day! That's
impressive! But it does work out completley in the end, just\ldots{}
bear with me as we go through it in potentially too much detail.

MORAL OF THE DAY: just because something goes to zero doesn't mean you
want to get rid of it! You may need those terms later!

This is going to expand tremendously, so let's just start from the
start.

\[\nabla_a F^{ab} = g^b_c \nabla_a F^{ac} = \gamma^b_c \nabla_a F^{ac} - n^bn_c\nabla_aF^{ac}\]

And now we already have to split up, since BOTH of these terms are going
to be their own thing. Notably, they easily map to terms in the answer
2.83. The left term corresponds to the gamma-term in parentheses, and
the other term corresponds to the other part (the temporal part).

So\ldots{} spatial first since that's what we did first in our notes.

    \[\gamma^b_c \nabla_a F^{ac} = \gamma^b_c \nabla_a (D^a A_\perp^c - D^c A_\perp^a + n^aE^c - n^cE^a)\]

Now, right away we actually have two of the terms we need: the D-terms
have the \(\nabla_a\) acting on them, making up the nested portion of
the answer in 2.83. So we can afford to not write them down anymore and
just focus on the E-terms. And boy, do these E-terms have some funky
chicken attached to them.

\[ \gamma^b_c (\nabla_a n^aE^c - \nabla_a n^cE^a) = \gamma^b_c (\nabla_a n^a n_d F^{cd} - \nabla_a n^c n_d F^{ad}) \]

Now we can apply the product rule to get what we like to call ``a mess''

\[ = \gamma^b_c ( n_d F^{cd}\nabla_an^a + n^a F^{cd}\nabla_a n_d + n^a n_d \nabla_aF^{cd} - n_d F^{ad} \nabla_a n^c - n^c F^{ad} \nabla_a n_d - n^c n_d \nabla_a F^{ad}) \]

Now \emph{several} of these terms can go to zero, but it's actually not
convenient for us to do that. (Note: turns out that this may not be true
as we had index errors originally, but they still might go to zero.) We
need to keep them around so we can arrange them into the forms we need.
Now, exactly HOW we do this is a bit obtuse (and involved a fair bit of
working backward from the goal to find!) but we selectively take the
terms as we need them.

First, let's take the following three terms\ldots{}

\[ n^a F^{cd}\nabla_a n_d + n^a n_d \nabla_aF^{cd} - n_d F^{ad} \nabla_a n^c \]

One thing we can do here is take a step BACK to get the product rule to
act on two parts at once\ldots{} which we will then identify as E.

\[ = n^a \nabla_a F^{cd} n_d - n_d F^{ad} \nabla_a n^c \]

\[ = n^a \nabla_a E^c - E^a \nabla_a n^c \]

\[ = \mathcal{L}_n E^c \]

By the relation on page 66. Which IS one of the terms we wanted. Now, we
want to use the OTHER three terms to become the other term we need,
\(-E^cK\)

    For this, we actually just take ONE of the terms!

\[ n_d F^{cd} \nabla_a n^a \]

\[ = E^c \nabla_a n^a \]

\[ = - E^c K \]

By the relation on pg 66. (Which we also prove here because we did it
the long way first and dangit we don't want our work to go to waste!)

\[ -E^c K \]

\[ = -E^c g^{ab} K_{ab} \]

\[ = -n_d F^{cd} g^{ab} (-\nabla_a n_b - n_a a_b) \]

\[ = n_d F^{cd} g^{ab} \nabla_a n_b + n_d F^{cd} g^{ab} n_a a_b \]

\[ = n_d F^{cd} g^{ab} \nabla_a n_b + n_d F^{cd} g^{ab} n_a n^e \nabla_e n_b \]

\[ = n_d F^{cd} g^{ab} \nabla_a n_b + n_d F^{cd} n^b n^e \nabla_e n_b \]

\[ = n_d F^{cd} \nabla_a n^a - 0 \]

\[ = n_d F^{cd} \nabla_a n^a  \]

\[ = E^c \nabla_a n^a \]

    However, we still have two remaining terms\ldots{}

\[ - n^c F^{ad} \nabla_a n_d - n^c n_d \nabla_a F^{ad} \]

However, note something. Each of these terms will evaluate to something
of the form \(n^c N\) where N is just some number. Now, WAAAAAAAY out in
the front of all of this there is a \(\gamma^b_c\), so in reality all
these terms are actually \(\gamma^b_c n^c N\). We note that the spatial
projection of \(n^c\) goes to zero. So they both vanish.

    Upon completion we have:

\[\gamma^a_c \nabla_a F^{ac} = \gamma^a_c (\mathcal{L}_n E^c - E^c K + \nabla_a (D^a A^c_\perp - D^c A^a_\perp))\]

NOW we move onto the temporal term. However, before we do that, the
problem statement implies we should prove a statement we're about to
use, so let's do that.

    The relation in question is \(D_a E^a = \nabla_a E^a - E^a a_a\)

Let's just work it out.

\[ D_a E^a = \gamma^c_a \gamma^a_d \nabla_c E^d \]

\[ = \gamma^c_d \nabla_c E^d \]

\[ = \delta^c_d \nabla_c E^d + n^c n_d \nabla_c E^d \]

\[ = \nabla_d E^d - E^d n^c \nabla_c n_d \]

\[ = \nabla_dE^d- E^d a_d \]

\[ = \nabla_a E^a - E^a a_a \]

So it's proven. That said, a note: at one point we use 2.71, since E is
spatial, but on the reverse indeces. However, the reverse indeces does
not change the relation since the metric can move in and out at will and
no other terms in the series have a d in them. \(v^dw_d = v_dw^d\) after
all. So we now have the relation required for our little mathematical
funhouse.

    We have \(- n^bn_c\nabla_aF^{ac}\) we seek \(-n^b D_a E^a\). It's much
easier to go backward since what we end up with is a cancellation, so
it's going to look like we're pulling terms out of nowhere for a second
here. But it'll all work out.

\[ - n^bn_c\nabla_aF^{ac} = - n^bn_c\nabla_aF^{ac} -n^b F^{ac} \nabla_a n_c + n^b F^{ac} \nabla_a n_c  \]

\[ = - n^bn_c\nabla_aF^{ac} -n^b F^{ac} \nabla_a n_c - n^b F^{ca} \nabla_a n_c \]

\[ = - n^bn_c\nabla_aF^{ac} -n^b F^{ac} \nabla_a n_c - n^b F^{ac} \nabla_c n_a \]

\[ = - n^bn_c\nabla_aF^{ac} -n^b F^{ac} \nabla_a n_c + n_d n^d n^b F^{ac} \nabla_c n_a \]

\[ = - n^bn_c\nabla_aF^{ac} -n^b F^{ac} \nabla_a n_c + n_d n^c n^b F^{ad} \nabla_c n_a \]

\[ = - n^b  \nabla_a n_c F^{ac} + n_d n^b F^{ad} a_a\]

\[ = - n^b \nabla_a E^a + n^b E^a a_a\]

\[ = - n^b D_a E^a \]

Note that we used the relation we just proved in the last step.

    Which means we now have everything we need!

\[\nabla_a F^{ab} = \gamma^a_c \nabla_a F^{ac} - n^bn_c\nabla_aF^{ac} = \gamma^b_c (\mathcal{L}_n E^c - E^c K + \nabla_a (D^a A^c_\perp - D^c A^a_\perp)) - n^b D_a E^a \]

    \hypertarget{problem-15-back-to-top}{%
\section{\texorpdfstring{Problem 15 {[}Back to
\hyperref[toc]{top}{]}}{Problem 15 {[}Back to {]}}}\label{problem-15-back-to-top}}

\[\label{P15}\]

\emph{Derive 2.89}

2.89:
\(\alpha \gamma^b_c \mathcal{L}_n E^c = \gamma^b_c \mathcal{L}_{\alpha n} E^c = \delta_t E^b - \mathcal{L}_\beta E^b\)

    The first step seems to follow immediately from \textbf{Problem 13}, but
there is a major issue, and that major issue is that we can't use 2.71
as the indeces are wrong\ldots{}

\[\gamma^b_c \alpha \mathcal{L}_n E^c = \gamma^b_c \alpha n^a \nabla_a E^c - \gamma^b_c \alpha E^a \nabla_a n^c\]

We need to get \(\alpha n^c\) together so we can treat it as a single
unit. We do know that E is spatial. The trick here is that we're just
going to up and add a term that goes to zero:

\[ = \gamma^b_c \alpha n^a \nabla_a E^c - \gamma^b_c \alpha E^a \nabla_a n^c - \gamma^b_c n^c E^a \nabla_a \alpha \]

Same argument as \textbf{Problem 14}--spatial projection of \(n^c N\)
where N is some number goes to zero, so that last term is zero.
FORTUNATELY this means we can now combine the terms via reverse product
rule.

\[ = \gamma^b_c \alpha n^a \nabla_a E^c - \gamma^b_c \gamma^b_c E^a \nabla_a \alpha n^c \]

\[ = \gamma^b_c \mathcal{L}_{\alpha n} E^c \]

And that is the first step.

    Expanding the first step again, we have:

\[\gamma^b_c \mathcal{L}_{\alpha n} E^c =  \gamma^b_c \alpha n^a \nabla_a E^c - \gamma^b_c E^a \nabla_a \alpha n^c\]

\[ =  \gamma^b_c t^a \nabla_a E^c - \gamma^b_c E^a \nabla_a t^a - \gamma^b_c \beta^c \nabla_a E^c + \gamma^b_c E^a \nabla_a \beta^c\]

\[ =  \gamma^b_c \mathcal{L}_t E^c - \gamma^b_c \mathcal{L}_\beta E^c\]

The projection operator is acting upon the Lie derivative\ldots{} of a
purely spatial quantity. So the projection operator can't do anything.
So all it does is change the index.

\[ = \mathcal{L}_t E^b - \mathcal{L}_\beta E^b\]

After all, the lie derivative can't make something \emph{not} spatial.
(One could argue that the derivative of zero is not guaranteed to be
zero, but E itself is actually an electric field which NEVER has a zero
component, so there.)

    \hypertarget{problem-16-back-to-top}{%
\section{\texorpdfstring{Problem 16 {[}Back to
\hyperref[toc]{top}{]}}{Problem 16 {[}Back to {]}}}\label{problem-16-back-to-top}}

\[\label{P16}\]

NOTE: THIS PROBLEM WAS DEEMED TO BE ``NOT GREAT'' SO LEO CREATED A NEW
PROBLEM THAT DOES THE SAME THING, SEE \textbf{PROBLEM 16 ALT} FOR
EVERYTHING. There is some coding in here though with NRPyLaTeX that
might be helpful to review, though.

\emph{Retrace the steps of this section to consider the scalar field of
Section 2.1 for arbitrary time slices.}

\emph{a) Define \(\kappa = -n^a \nabla_a \psi\) and show that this may
be written as
\(\delta_t \psi = -\alpha \kappa + \mathcal{L}_\beta \psi\), where we
have used \(\mathcal{L}_\beta \psi = \beta^i \partial_i \psi\) for a
scalar field.}

    Let's just start and see where this goes.

\[\kappa = -n^a \nabla_a \psi\]

Since this is a scalar field covariants become partials.

\[ = -n^t \partial_t \psi - n^i \partial_i \psi  \]

The arbitrary notation for the components of \(n^a\) is 2.40,
\((\frac1\alpha,-\frac{\beta^i}{\alpha},-\frac{\beta^j}{\alpha},-\frac{\beta^k}{\alpha})\)
so we have

\[ = -\frac{1}{\alpha} \partial_t \psi + \frac{\beta^i}{\alpha} \partial_i \psi  \]

Now let's actually try to work with this as an equation so we can get
the above relation.

\[ \alpha\kappa = -\partial_t \psi + \beta^i \partial_i \psi \]

\[ \Rightarrow \partial_t \psi = -\alpha \kappa + \beta^i \partial_i \psi \]

\[ \Rightarrow \partial_t \psi = -\alpha \kappa + \mathcal{L}_\beta \psi \]

Which is what we sought.

    A note: the relation used for the Lie Derivative of the scalar is 2.74,
applied essentially directly. We only note this since it was not
specified in the problem statement.

    \emph{b) Show that decomposition of the spacetime gradient
\(\nabla_a \psi\) yields. \(\nabla_a \psi = D_a \psi + n_a \kappa\)}

    This looks\ldots{} so much neater when working backwards, when working
forwards we just add a complicated zero.

\[\nabla_a \psi = \nabla_a \psi + n_a n^c \nabla_c \psi - n_a n^c \nabla_c \psi\]

\[ = \delta_a^c \nabla_c \psi + n_a n^c \nabla_c \psi + n_a \kappa \]

\[ = \gamma_a^c \nabla_c \psi + n_a \kappa \]

\[ = D_a \psi + n_a \kappa \]

Which certainly works but definitely isn't obvious.

    Leo Werneck had a better proof.

\[ \nabla_a \psi = g^b_a \nabla_b \psi = (\gamma^b_a - n^bn_a)\nabla_b \psi = D_a \psi + n_a \kappa \]

Tah-dah!

    \emph{c) Now use steps similar to those in \textbf{Problem 14} to
construct the decomposition of
\(\nabla_a\nabla^a \psi = g^b_a \nabla_b \nabla^a \psi\). Replace
\(\nabla^a \psi\) with 2.95, insert 2.47 for \(g^b_a\), and then use the
definition of the extrinsic curvature and the spatial covariant
derivative (together with 2.49), as well as properties of the
derivatives of the normal vector \(n_a\), to show that}

\[ \partial_t \kappa = -D_a(\alpha D^a \psi) + \alpha \kappa K + 4\pi \alpha\rho + \mathcal{L}_\beta \kappa \]

\emph{Note the remarkable similarity between the pair of equations 2.93
and 2.92 for electrodynamics, and 2.94 and 2.96 for the scalar field.}

    2.95 is just the equation in part b).

2.47: \(\gamma^a_b = g^a_b + n^an_b\)

2.49 is just the fact that apllying the projection operator twice does
nothing more than doing it once.

    Leo has suggested starting from scratch and doing it all over again. In
addition, we will ALSO be using NRPy+LaTeX to validate every step we
can. Hopefully this will work. So, to begin, we will validate the first
step: specifically, the one given to us.

NOTE: the code was removed from this seciton as it was messing with code
down below. It's probably best to just go look at \textbf{Problem 16
Alt}, as it solves the same problem.

    We have successfully done\ldots{} not even the first step, we just
validated the relation given to us. So, now we can go about actually
trying to solve the problem. First of all, let's completely clear the
cache so we can use everything we want, then start defining things.
We'll be needing quite a few\ldots{}

    The actual first STEP is the following:

\[\nabla_a \nabla^a \psi\]

\[ = g^b_a \nabla_b \nabla^a \psi \]

\[ = (\gamma^b_a - n^bn_a) \nabla_b (D^a \psi + n^a \kappa) \]

\[ = \gamma^b_a\nabla_b D^a \psi + \gamma^b_a \nabla_b n^a \kappa -n^bn_a \nabla_b D^a \psi - n^bn_a \nabla_b (n^a \kappa) \]

Note the parentheses. These parentheses drive NRPy+ LaTeX insane. But
we'll make it work. (usually we imply the parentheses, but it has led to
problems before, sooooo)

    Well would you look at that, it tossed out zero! WOO-HOO YEAH!

Anyway, we have validated that the splitting up of the equation is
correct. Now we deal with individual terms at a time.

\[ \gamma^b_a\nabla_b D^a \psi + \gamma^b_a \nabla_b n^a \kappa -n^bn_a \nabla_b D^a \psi - n^bn_a \nabla_b (n^a \kappa) \]

This is our start. We have absolutely and definitely codified it. Now we
just have to start from ``le scratch'' and do it again.

    Now, we handle each of these terms separately. The fourth term is the
easisest.

\[ -n^bn_a \nabla_b n^a \kappa \]

\[ = -n^bn_a n^a \nabla_b \kappa -n^bn_a \kappa \nabla_b n^a \]

Second term goes to zero, first term has a ``-1'' contraction.

\[ = + n^b \nabla_b \kappa \]

So, moving on to the third term. We're going to do some re-arranging.

\[ -n^bn_a \nabla_b D^a \psi \]

\[ = -n^bn_a D^a \nabla_b \psi \]

\[ = -n^bn_a \gamma^a_c \gamma_d^b \nabla^c \nabla_d \psi \]

Now when we originally solved the problem we worked this term out and
proved it went to zero after a lot of steps. Turns out, there's a faster
way to do it. All the steps so far that we've done can be applid to the
first term as well, which means we can transform back to:

\[ g^b_a \gamma^a_c \gamma_d^b \nabla^c \nabla_d \psi \]

\[ = \gamma^b_c \gamma_d^b \nabla^c \nabla_d \psi \]

\[ = \gamma^d_c \nabla^c \nabla_d \psi \]

\[ = g^d_c \nabla^c \nabla_d \psi + n^dn_c \nabla^c \nabla_d \psi \]

\[ = \nabla^d \nabla_d \psi + n^dn_c \nabla^c \nabla_d \psi \]

\[ = \nabla^a \nabla_a \psi + n^an_b \nabla^b \nabla_a \psi \]

We note that we have reclaimed the original formula here. Which is to
say these two terms, combined, make up the spatial projection of the
original part. This means it's purely spatial, a fact which may or may
not be useful later.

    Now we only have the second term left to evaluate. That is:

\[ \gamma^b_a \nabla_b n^a \kappa \]

\[ = \gamma^b_a n^a \nabla_b \kappa + \gamma^b_a \kappa \nabla_b n^a\]

\[ = g^b_a n^a \nabla_b \kappa + g^b_a \kappa \nabla_b n^a + n^bn_a n^a \nabla_b \kappa + n^bn_a \kappa \nabla_b n^a\]

    Oh what fun, four terms again. Once again, the fourth term goes to zero
due to the indeces. The first and third terms are also related\ldots{}
because they cancel! the matching indices on the third make it negative,
and the g is just the delta so everything cancels, leaving only the
second term.

\[ = g^b_a \kappa \nabla_b n^a \]

\[ = \kappa \nabla_b n^b \]

\[ = - \kappa K \]

Which is nice since this is one of the terms we want to have in our
final relation.

So, in the end, we learned the following:

\[ \nabla^a \nabla_a \psi = \gamma^a_b \nabla^b \nabla_a \psi - \kappa K + n^b \nabla_b \kappa = \nabla^a \nabla_a \psi + n^an_b \nabla^b \nabla_a \psi -\kappa K + n^b \nabla_b \kappa = 4\pi \rho\]

Note that we have successfully split it into spatial and temporal
components. And, also potentially useful, the relation contains the
original equation itself. (The last result is just equation 2.1.)

From 2.2 we also have

\[ \nabla^a \nabla_a \psi = -\partial_t^2 \psi + D^2 \psi \]

    The question is\ldots{} now what? Our \(\kappa\) most definitely does
not match the \(\kappa\) in equations 2.3 onward. Instead, we can make
these relations:
\[ \partial_t^2 \psi = \kappa K - n^b \nabla_b \kappa \]
\[ D^2 \psi = \gamma^a_b \nabla^b \nabla_a \psi \]

    Which are quite useful.

Now, we usually try to avoid working backwards in these solutions, but
we need our ``result'' in a better form to work with. (And there's still
a missing step in the formulation.) Starting with the result\ldots{}

\[ \partial_t \kappa = -D_a(\alpha D^a \psi) + \alpha \kappa K + 4\pi \alpha\rho + \mathcal{L}_\beta \kappa \]

First of all, the left hand side and the last term are actually very
closely related.

\[ \partial_t \kappa - \mathcal{L}_\beta \kappa \]

\[ = \partial_t \kappa - \beta^i \partial_i \kappa \]

\[ = \alpha n^a \partial_a \kappa \]

Which can also be written as

\[ = \alpha n^a \nabla_a \kappa = \alpha \mathcal{L}_n \kappa = \mathcal{L}_{n\alpha} \kappa\]

It's nice (albeit a bit confusing) how a scalar makes the three
derivatives so easily shuffleable.

    Regardless, now our relation is of a more manageable summation notation.

\[ \Rightarrow \alpha n^a \partial_a \kappa = -D_a(\alpha D^a \psi) + \alpha \kappa K + 4\pi \alpha\rho \]

\[ \Rightarrow n^a \partial_a \kappa = -\frac{1}{\alpha} D_a(\alpha D^a \psi) + \kappa K + 4 \pi \rho \]

This is much easier to look at. Note the last two terms: they look
unrelated, but we know \(4 \pi \rho\) is the solution to the massless
scalar field wave equation, that is, \(\nabla^a \nabla_a \psi\). And we
just showed that \(-\kappa K\) is the temporal part of that solution!
Thus, we're subtracting the two from each other, effectively, leaving us
with only the SPATIAL solution!

\[ \Rightarrow n^a \partial_a \kappa = -\frac{1}{\alpha} D_a(\alpha D^a \psi) + \gamma^a_c \nabla^c \nabla_a \psi \]

\[ \Rightarrow n^a \partial_a \kappa = -\frac{1}{\alpha} D_a(\alpha D^a \psi) + D^2 \psi \]

    Sanity check: the above step is somewhat ``fancy'' so it's worthwhile to
show all the steps:

\[ \kappa K + 4 \pi \rho \]
\[ = n^an_b\nabla^b\nabla_a + \nabla^a \nabla_a \psi \]
\[ = n^an_b\nabla^b\nabla_a + g^a_b \nabla^b \nabla_a \psi \]
\[ = \gamma^a_b \nabla^b\nabla_a \]

    The first term on the right of our relation can be expanded by the
product rule.

\[ \Rightarrow n^a \partial_a \kappa = -\frac{1}{\alpha} \alpha D_a( D^a \psi) -\frac{1}{\alpha} (D_a\alpha) (D^a \psi) + D^2 \psi \]

\[ \Rightarrow n^a \partial_a \kappa = - D^2 \psi - \frac{1}{\alpha} (D_a\alpha) (D^a \psi) + D^2 \psi \]

\[ \Rightarrow n^a \partial_a \kappa = - \frac{1}{\alpha} (D_a\alpha) (D^a \psi) \]

Now remember the very unusual relation \(a_a = D_a ln\alpha\) (2.69, see
\textbf{Problem 10}).

\[ \Rightarrow n^a \partial_a \kappa = - (D_a ln\alpha) (D^a \psi) \]

\[ \Rightarrow n^a \partial_a \kappa = - a_a D^a \psi \]

And at this point we're not sure exactly what we're doing. All we need
to do is prove that the equality is true, and we're done. (Everything
after this point we are uncertain about.)

    \[ \Rightarrow n^a \nabla_a \kappa = - a_a D^a \psi \]

\[ \Rightarrow n_a \nabla^a \kappa = - a_a \nabla^a \psi - a_an^a\kappa\]

Via part b). As acceleration is purely spatial (See \textbf{Problem
2-12} in the big Numerical Relativity book) the second term on the right
vanishes.

\[ \Rightarrow n_a \nabla^a \kappa = - a_a \nabla^a \psi\]

\[ \Rightarrow -n_a \nabla^a (n^b\nabla_b \psi) = - n^b (\nabla_b n_a) \nabla^a \psi\]

While at first this looks very, very promising--the sign is the same and
the terms all match!--the problem is the derivatives are nested
incorrectly for the equality to be direct. The left side has a
derivative of a derivative, the right does not. We can expand the left
by the product rule\ldots{}

\[ \Rightarrow -n_a (\nabla^a n^b)(\nabla_b \psi) -n_a n^b (\nabla^a\nabla_b \psi) = - n^b (\nabla_b n_a) \nabla^a \psi\]

\[ \Rightarrow -n^b (\nabla^a n_a)(\nabla_b \psi) -n_a n^b (\nabla^a\nabla_b \psi) = - n^b (\nabla_b n_a) \nabla^a \psi\]

\[ \Rightarrow  -n_a n^b (\nabla^a\nabla_b \psi) = 0\]

    Now\ldots{} the thing is this simply isn't true. We already know what
this is equal to. We used the relation bevore.

\[ n_a n^b (\nabla^a\nabla_b \psi) = \kappa K\]

Which isn't zero\ldots{} at least, it sure seems like it isn't. So
something has gone wrong\ldots{} somewhere.

    \hypertarget{problem-16-alt-back-to-top}{%
\section{\texorpdfstring{Problem 16 Alt {[}Back to
\hyperref[toc]{top}{]}}{Problem 16 Alt {[}Back to {]}}}\label{problem-16-alt-back-to-top}}

\[\label{P16A}\]

Leo thinks the above \textbf{Problem 16c} is arranged badly, so instead
he offers this:

    \emph{In this exercise we will find the 3+1 decomposition of the
Klein-Gordon equation}

\[ \nabla^a\nabla_a\psi = 4\pi \rho .\]

\emph{a) Consider the definition
\(D_aD_b\psi = \gamma^c_a\gamma^d_b\nabla_cD_d\psi.\) Using
\(\nabla_a\psi = D_a\psi + n_a \kappa\), show that}

\[ \gamma^c_a \gamma^d_b \nabla_c \nabla_d \psi = D_a D_b \psi - \kappa K_{ab} \]

where \(K_{ab} = -\nabla_an_b - n_aD_b ln\alpha\) is the extrinsic
curvature and \(\gamma^c_a K_{cb} = K_{ab}\)

    Right, the relations are given, let's do this!

\[ \gamma^c_a \gamma^d_b \nabla_c \nabla_d \psi \]

\[ = \gamma^c_a \gamma^d_b \nabla_c D_d \psi + \gamma^c_a \gamma^d_b \nabla_c (n_d \kappa) \]

\[ = D_a D_b \psi + \gamma^c_a \gamma^d_b n_d \nabla_c (\kappa) + \gamma^c_a \gamma^d_b \kappa \nabla_c (n_d) \]

The first term is already in the form we want, so we know the other two
must eventually become the other term we need.

\[ = D_a D_b \psi + \gamma^d_b n_d D_a(\kappa) +  \kappa D_a n_b\]

Middle term goes to zero, spatial projection of the lowered normal is
nothing.

\[ = D_a D_b \psi + \kappa D_a n_b\]

Now the next step only makes sense since we know we want to get a K out
of this eventually, which means we need to grab the acceleraiton, which
means we REVERT that second term.

\[ = D_a D_b \psi + \kappa \gamma^c_a \gamma^d_b \nabla_c (n_d) \]

\[ = D_a D_b \psi + \kappa \gamma^c_a \gamma^d_b (-K_{cd} - n_c a_d) \]

\[ = D_a D_b \psi - \kappa\gamma^c_a \gamma^d_b K_{cd} - \kappa \gamma^c_a \gamma^d_b n_c a_d \]

K is spatial, the projections pass right through, and the projections go
to zero for the last term.

\[ = D_a D_b \psi - \kappa K_{ab}\]

Which is what we sought to show!

    \emph{b) Again using \(\nabla_a \psi = D_a \psi + n_a \kappa,\) show
that}

\[ n^an^b \nabla_a \nabla_b \psi = -\alpha^{-1} (\partial_t \kappa - \mathcal{L}_\beta \kappa + D^a \psi D_a \alpha) \]

\emph{Hint: Use the fact that \(n^a D_a \psi = 0\)}

    Once more, with feeling!

\[ n^an^b\nabla_a\nabla_b\psi \]

\[ = n^an^b\nabla_aD_b \psi + n^an^b\nabla_a(n_b \kappa) \]

\[ = n^an^b\nabla_aD_b \psi + n^an^bn_b\nabla_a \kappa + n^an^b\kappa\nabla_an_b \]

\[ = n^an^b\nabla_aD_b \psi - n^a \nabla_a \kappa \]

Note that since we have a normal on one side and a spatial component on
the other of the covariant derivative, we can use 2.71 to flip things in
the first term.

\[ = - n^a(D_b\psi)\nabla_a n^b - n^a \partial_a \kappa \]

\[ = - n^a(D^b\psi)\nabla_a n_b  - \frac1\alpha \partial_t \kappa + \frac1\alpha \beta^i \partial_i \kappa  \]

\[ = - (D^b\psi)a_b - \frac1\alpha \partial_t \kappa + \frac1\alpha \mathcal{L}_\beta \kappa  \]

\[ = - (D^b\psi)D_b ln\alpha - \frac1\alpha \partial_t \kappa + \frac1\alpha \mathcal{L}_\beta \kappa  \]

\[ = - \frac1\alpha (D^b\psi)D_b \alpha - \frac1\alpha \partial_t \kappa + \frac1\alpha \mathcal{L}_\beta \kappa  \]

\[ = - \frac1\alpha [(D^a\psi)D_a \alpha + \partial_t \kappa - \mathcal{L}_\beta \kappa]  \]

    \emph{c) Starting from}

\[ \nabla_a \nabla_b \psi = g^c_a g^d_b \nabla_c \nabla_d \psi, \]

and using the results from items a) and b), show that

\[ \nabla^a \nabla_a \psi = D^a D_a \psi -\kappa K + \alpha^{-1} [\delta_t \kappa - \mathcal{L}_\beta \kappa + D^a \psi D_a \alpha] \]

where K = \(g^{ab}K_{ab} = K^a_a\) is the mean curvature.

    And this is\ldots{}

\[ \nabla^a \nabla_a \psi \]

\[ = g^{ab} \nabla_b \nabla_a \psi \]

\[ = g^{ab} g^c_a g^d_b \nabla_c \nabla_d \psi \]

\[ = g^{ab} \gamma^c_a \gamma^d_b \nabla_c \nabla_d \psi - g^{ab} \gamma^c_a n^d n_b \nabla_c \nabla_d \psi - g^{ab} n^c n_a \gamma^d_b \nabla_c \nabla_d \psi + g^{ab} n^cn_an^dn_b \nabla_c \nabla_d \psi \]

\[ = g^{ab} \gamma^c_a \gamma^d_b \nabla_c \nabla_d \psi - g^{db} \gamma^c_a n^a n_b \nabla_c \nabla_d \psi - g^{ac} n^b n_a \gamma^d_b \nabla_c \nabla_d \psi + g^{ab} n^cn_an^dn_b \nabla_c \nabla_d \psi \]

\[ = g^{ab} \gamma^c_a \gamma^d_b \nabla_c \nabla_d \psi + n^cn^bn^dn_b \nabla_c \nabla_d \psi \]

\[ = g^{ab} \gamma^c_a \gamma^d_b \nabla_c \nabla_d \psi - n^cn^d \nabla_c \nabla_d \psi \]

Now we can just make our substitutions.

\[ = g^{ab} (D_aD_b\psi - \kappa K_{ab}) + \frac1\alpha [(D^a\psi)D_a \alpha + \partial_t \kappa - \mathcal{L}_\beta \kappa]  \]

\[ = D^bD_b\psi - \kappa K + \frac1\alpha [(D^a\psi)D_a \alpha + \partial_t \kappa - \mathcal{L}_\beta \kappa]  \]

\[ = D^aD_a\psi - \kappa K + \frac1\alpha [(D^a\psi)D_a \alpha + \partial_t \kappa - \mathcal{L}_\beta \kappa]  \]

    \emph{d) Finally, return to the original equation and show that}

\[ \partial_t \kappa = \mathcal{L}_\beta \kappa - D^a(\alpha D_a \psi) + \alpha \kappa K + 4 \pi \alpha \rho\]

    The full relation from part c) is

\[ \nabla^a \nabla_a \psi = D^a D_a \psi -\kappa K + \frac1\alpha [\partial_t \kappa - \mathcal{L}_\beta \kappa + D^a \psi D_a \alpha] \]

Which, using the FIRST equation, allows us to say:

\[ \Rightarrow 4\pi\rho = D^a D_a \psi -\kappa K + \frac1\alpha [\partial_t \kappa - \mathcal{L}_\beta \kappa + D^a \psi D_a \alpha] \]

Rearrangements produce\ldots{}

\[ \Rightarrow 4\pi\alpha\rho = \alpha D^a D_a \psi -\alpha\kappa K + \partial_t \kappa - \mathcal{L}_\beta \kappa + D^a \psi D_a \alpha \]

\[ \Rightarrow 4\pi\alpha\rho - \alpha D^a D_a \psi + \alpha\kappa K +  \mathcal{L}_\beta \kappa - D^a \psi D_a \alpha  = \partial_t \kappa \]

\[ \Rightarrow 4\pi\alpha\rho -  D^a(\alpha D_a \psi) + \alpha\kappa K +  \mathcal{L}_\beta \kappa  = \partial_t \kappa \]

Which is what we sought, albeit with terms rearranged.

    \hypertarget{problem-16-code-validation-back-to-top}{%
\section{\texorpdfstring{Problem 16 Code Validation {[}Back to
\hyperref[toc]{top}{]}}{Problem 16 Code Validation {[}Back to {]}}}\label{problem-16-code-validation-back-to-top}}

\[\label{P16C}\]

As we were trying to do with the original Problem 16, we are now going
to use it as a way to learn NRPyLaTeX and validate the results. With
code. Wheeee!

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{2}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{!}pip install nrpylatex\PYZti{}\PY{o}{=}\PY{l+m}{1}.2.2 \PYZgt{} /dev/null
\PY{o}{!}pip freeze \PY{p}{|} grep nrpylatex
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
\textcolor{ansi-yellow}{WARNING: There was an error checking the latest version of pip.}\textcolor{ansi-yellow}{
}nrpylatex==1.2.2
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{3}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{from} \PY{n+nn}{nrpylatex} \PY{k+kn}{import} \PY{n}{parse\PYZus{}latex} \PY{c+c1}{\PYZsh{}For python}

\PY{c+c1}{\PYZsh{}from nrpylatex.core.assert\PYZus{}equal import assert\PYZus{}equal}
\PY{c+c1}{\PYZsh{}this is not used any longer, we keep it here so we know how to grab it if necessary. }

\PY{k+kn}{import} \PY{n+nn}{sympy} \PY{k}{as} \PY{n+nn}{sp}
\PY{n}{simplify} \PY{o}{=} \PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n+nb}{list}\PY{p}{(}\PY{n}{sp}\PY{o}{.}\PY{n}{simplify}\PY{p}{(}\PY{n}{sp}\PY{o}{.}\PY{n}{Matrix}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\PY{c+c1}{\PYZsh{}simplify only knows how to work on certain objects, and NRPyLaTeX stores things NOT as those objects.}
\PY{c+c1}{\PYZsh{}here we define a new simplify that first converts it all to a matrix that can be worked with. }
\PY{c+c1}{\PYZsh{}a lambda is just a Python tiny function. }

\PY{c+c1}{\PYZsh{}for line magic in jupyter}
\PY{o}{\PYZpc{}}\PY{k}{load\PYZus{}ext} nrpylatex.extension 
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{4}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{\PYZpc{}\PYZpc{}}\PY{k}{parse\PYZus{}latex} \PYZhy{}\PYZhy{}reset

\PYZpc{} define gUU \PYZhy{}\PYZhy{}dim 3 \PYZhy{}\PYZhy{}metric
\PYZpc{} define vD \PYZhy{}\PYZhy{}dim 3 
\end{Verbatim}
\end{tcolorbox}
 
            
\prompt{Out}{outcolor}{4}{}
    
    \[
% define gUU --dim 3 --metric
% define vD --dim 3 
\]

    

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{5}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{\PYZpc{}\PYZpc{}}\PY{k}{parse\PYZus{}latex} \PYZhy{}\PYZhy{}reset

\PYZpc{} define gDD \PYZhy{}\PYZhy{}dim 4 \PYZhy{}\PYZhy{}metric
\PYZpc{} define psi \PYZhy{}\PYZhy{}dim 4 \PYZhy{}\PYZhy{}deriv dD
\PYZpc{} define alpha \PYZhy{}\PYZhy{}dim 4 \PYZhy{}\PYZhy{}deriv dD
\PYZpc{} define betaU \PYZhy{}\PYZhy{}dim 4 \PYZhy{}\PYZhy{}deriv dD
\PYZpc{} define nU \PYZhy{}\PYZhy{}dim 4 
\PYZpc{} define nD \PYZhy{}\PYZhy{}dim 4 \PYZhy{}\PYZhy{}zero 
\PYZpc{}  n\PYZca{}\PYZob{}0\PYZcb{} = 1/\PYZbs{}alpha \PYZbs{}\PYZbs{}
\PYZpc{}  n\PYZca{}\PYZob{}1\PYZcb{} = \PYZhy{}\PYZbs{}beta\PYZca{}1/\PYZbs{}alpha \PYZbs{}\PYZbs{}
\PYZpc{}  n\PYZca{}\PYZob{}2\PYZcb{} = \PYZhy{}\PYZbs{}beta\PYZca{}2/\PYZbs{}alpha \PYZbs{}\PYZbs{}
\PYZpc{}  n\PYZca{}\PYZob{}3\PYZcb{} = \PYZhy{}\PYZbs{}beta\PYZca{}3/\PYZbs{}alpha \PYZbs{}\PYZbs{}
\PYZpc{}  n\PYZus{}\PYZob{}0\PYZcb{} = \PYZhy{}\PYZbs{}alpha \PYZbs{}\PYZbs{}

\PYZbs{}gamma\PYZca{}\PYZbs{}alpha\PYZus{}\PYZbs{}beta = g\PYZca{}\PYZbs{}alpha\PYZus{}\PYZbs{}beta + n\PYZca{}\PYZbs{}alpha n\PYZus{}\PYZbs{}beta \PYZbs{}\PYZbs{}
\PYZbs{}kappa = \PYZhy{}n\PYZca{}\PYZbs{}alpha \PYZbs{}nabla\PYZus{}\PYZbs{}alpha \PYZbs{}psi \PYZbs{}\PYZbs{}

\PYZpc{} define alpha \PYZhy{}\PYZhy{}dim 4 \PYZhy{}\PYZhy{}deriv dD
A = \PYZbs{}ln\PYZbs{}alpha \PYZbs{}\PYZbs{}
\PYZpc{}\PYZpc{} we have to define this because the D operator won\PYZsq{}t accept a ln of something else. 

K\PYZus{}\PYZob{}\PYZbs{}alpha\PYZbs{}beta\PYZcb{} = \PYZhy{}\PYZbs{}nabla\PYZus{}\PYZbs{}alpha n\PYZus{}\PYZbs{}beta \PYZhy{} n\PYZus{}\PYZbs{}alpha D\PYZus{}\PYZbs{}beta A
\end{Verbatim}
\end{tcolorbox}
 
            
\prompt{Out}{outcolor}{5}{}
    
    \[
% define gDD --dim 4 --metric
% define psi --dim 4 --deriv dD
% define alpha --dim 4 --deriv dD
% define betaU --dim 4 --deriv dD
% define nU --dim 4 
% define nD --dim 4 --zero 
%  n^{0} = 1/\alpha \\
%  n^{1} = -\beta^1/\alpha \\
%  n^{2} = -\beta^2/\alpha \\
%  n^{3} = -\beta^3/\alpha \\
%  n_{0} = -\alpha \\

\gamma^\alpha_\beta = g^\alpha_\beta + n^\alpha n_\beta \\
\kappa = -n^\alpha \nabla_\alpha \psi \\

% define alpha --dim 4 --deriv dD
A = \ln\alpha \\
%% we have to define this because the D operator won't accept a ln of something else. 

K_{\alpha\beta} = -\nabla_\alpha n_\beta - n_\alpha D_\beta A
\]

    

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{6}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{\PYZpc{}\PYZpc{}}\PY{k}{parse\PYZus{}latex}

Q\PYZus{}\PYZob{}\PYZbs{}alpha\PYZbs{}beta\PYZcb{} = \PYZbs{}gamma\PYZca{}\PYZbs{}gamma\PYZus{}\PYZbs{}alpha \PYZbs{}gamma\PYZca{}\PYZbs{}delta\PYZus{}\PYZbs{}beta \PYZbs{}nabla\PYZus{}\PYZbs{}gamma \PYZbs{}nabla\PYZus{}\PYZbs{}delta \PYZbs{}psi
\PYZhy{} \PYZbs{}gamma\PYZca{}\PYZbs{}gamma\PYZus{}\PYZbs{}alpha \PYZbs{}gamma\PYZca{}\PYZbs{}delta\PYZus{}\PYZbs{}beta \PYZbs{}nabla\PYZus{}\PYZbs{}gamma D\PYZus{}\PYZbs{}delta \PYZbs{}psi
\PYZhy{} \PYZbs{}gamma\PYZca{}\PYZbs{}gamma\PYZus{}\PYZbs{}alpha \PYZbs{}gamma\PYZca{}\PYZbs{}delta\PYZus{}\PYZbs{}beta \PYZbs{}nabla\PYZus{}\PYZbs{}gamma (n\PYZus{}\PYZbs{}delta \PYZbs{}kappa)
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
OverrideWarning: some variable(s) in the namespace were overridden
    \end{Verbatim}
 
            
\prompt{Out}{outcolor}{6}{}
    
    \[
Q_{\alpha\beta} = \gamma^\gamma_\alpha \gamma^\delta_\beta \nabla_\gamma \nabla_\delta \psi
- \gamma^\gamma_\alpha \gamma^\delta_\beta \nabla_\gamma D_\delta \psi
- \gamma^\gamma_\alpha \gamma^\delta_\beta \nabla_\gamma (n_\delta \kappa)
\]

    

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{7}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{n}{simplify}\PY{p}{(}\PY{n}{QDD}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    \end{Verbatim}

    That was ultimately just a proof of concept, to show that the first step
of the problem,

\[ \gamma^c_a \gamma^d_b \nabla_c \nabla_d \psi \]

\[ = \gamma^c_a \gamma^d_b \nabla_c D_d \psi + \gamma^c_a \gamma^d_b \nabla_c (n_d \kappa), \]

could be modeled correctly.

Now, it's possible one of the relations we end up using will make it so
we can't just do this all at once, but we're going to try! \ldots going
right to the end did not work. Sure, a LOT of terms went to zero, just
not all of them. (in fact, it seems like only the t-components ended up
with things in them\ldots) The issue appears to be that it doesn't know
the definition of the spatial derivative which is fair, as it doesn't
know the projection operator either. So we manually add it in using
srepl.

With this NRPyLaTeX CAN go right to the end!

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{8}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{\PYZpc{}\PYZpc{}}\PY{k}{parse\PYZus{}latex}

\PYZpc{} srepl \PYZdq{}D\PYZus{}\PYZlt{}1\PYZgt{} D\PYZus{}\PYZlt{}2\PYZgt{}\PYZdq{} \PYZhy{}\PYZgt{} \PYZdq{}\PYZbs{}gamma\PYZca{}\PYZob{}i\PYZus{}1\PYZcb{}\PYZus{}\PYZlt{}1\PYZgt{} \PYZbs{}gamma\PYZca{}\PYZob{}i\PYZus{}2\PYZcb{}\PYZus{}\PYZlt{}2\PYZgt{} \PYZbs{}nabla\PYZus{}\PYZob{}i\PYZus{}1\PYZcb{} D\PYZus{}\PYZob{}i\PYZus{}2\PYZcb{}\PYZdq{}
\PYZpc{}\PYZpc{} srepl \PYZdq{}\PYZbs{}gamma\PYZca{}\PYZlt{}3\PYZgt{}\PYZus{}\PYZlt{}1\PYZgt{} \PYZbs{}gamma\PYZca{}\PYZlt{}4\PYZgt{}\PYZus{}\PYZlt{}2\PYZgt{} \PYZbs{}nabla\PYZus{}\PYZlt{}3\PYZgt{} D\PYZus{}\PYZlt{}4\PYZgt{}\PYZdq{} \PYZhy{}\PYZgt{} \PYZdq{}D\PYZus{}\PYZlt{}1\PYZgt{} D\PYZus{}\PYZlt{}2\PYZgt{}\PYZdq{}

M\PYZus{}\PYZob{}\PYZbs{}alpha\PYZbs{}beta\PYZcb{} = \PYZbs{}gamma\PYZca{}\PYZbs{}gamma\PYZus{}\PYZbs{}alpha \PYZbs{}gamma\PYZca{}\PYZbs{}delta\PYZus{}\PYZbs{}beta \PYZbs{}nabla\PYZus{}\PYZbs{}gamma \PYZbs{}nabla\PYZus{}\PYZbs{}delta \PYZbs{}psi
\PYZhy{} D\PYZus{}\PYZbs{}alpha D\PYZus{}\PYZbs{}beta \PYZbs{}psi + \PYZbs{}kappa K\PYZus{}\PYZob{}\PYZbs{}alpha\PYZbs{}beta\PYZcb{}
\end{Verbatim}
\end{tcolorbox}
 
            
\prompt{Out}{outcolor}{8}{}
    
    \[
% srepl "D_<1> D_<2>" -> "\gamma^{i_1}_<1> \gamma^{i_2}_<2> \nabla_{i_1} D_{i_2}"
%% srepl "\gamma^<3>_<1> \gamma^<4>_<2> \nabla_<3> D_<4>" -> "D_<1> D_<2>"

M_{\alpha\beta} = \gamma^\gamma_\alpha \gamma^\delta_\beta \nabla_\gamma \nabla_\delta \psi
- D_\alpha D_\beta \psi + \kappa K_{\alpha\beta}
\]

    

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{9}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{n}{simplify}\PY{p}{(}\PY{n}{MDD}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    \end{Verbatim}

    All zeroes, part a) has been validated!

Now, for part b). To make things easier we are just going to keep the
temporal and spatial components of the funky terms together,
\(n^a\nabla_a \kappa\) rather than splitting it up to make it hard on
the poor computer.

The ``all in one'' step did not work, it did not think it was zero (in
fact it thinks it is a huge mess), so let's do it one bit at a time.

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{10}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{\PYZpc{}\PYZpc{}}\PY{k}{parse\PYZus{}latex}

P = n\PYZca{}\PYZbs{}alpha n\PYZca{}\PYZbs{}beta \PYZbs{}nabla\PYZus{}\PYZbs{}alpha \PYZbs{}nabla\PYZus{}\PYZbs{}beta \PYZbs{}psi 
\PYZhy{} n\PYZca{}\PYZbs{}alpha n\PYZca{}\PYZbs{}beta \PYZbs{}nabla\PYZus{}\PYZbs{}alpha D\PYZus{}\PYZbs{}beta \PYZbs{}psi + n\PYZca{}\PYZbs{}alpha \PYZbs{}nabla\PYZus{}\PYZbs{}alpha \PYZbs{}kappa \PYZbs{}\PYZbs{}

\PYZpc{}\PYZpc{} We have identified the step where trouble occurs,
\PYZpc{}\PYZpc{} The fliping across the nabla. 
O = n\PYZca{}\PYZbs{}alpha n\PYZca{}\PYZbs{}beta \PYZbs{}nabla\PYZus{}\PYZbs{}alpha D\PYZus{}\PYZbs{}beta \PYZbs{}psi + n\PYZca{}\PYZbs{}alpha (D\PYZus{}\PYZbs{}beta \PYZbs{}psi) \PYZbs{}nabla\PYZus{}\PYZbs{}alpha n\PYZca{}\PYZbs{}beta \PYZbs{}\PYZbs{}
\PYZpc{}\PYZpc{} this evaluation is not zero, despite us knowing it works. 
\PYZpc{}\PYZpc{} Digging a bit we find that the computer does not recognize
N = n\PYZca{}\PYZbs{}alpha D\PYZus{}\PYZbs{}alpha \PYZbs{}psi \PYZbs{}\PYZbs{}
\PYZpc{}\PYZpc{} as going to zero, an even simpler relation used to prove the above. Projecting 
\PYZpc{}\PYZpc{} spatial anything along the normal should vanish. 

\PYZpc{}\PYZpc{} We THINK this is arising because we manually defined both versions of n
\PYZpc{}\PYZpc{} but have not defined the metric g. Even though the nature of n puts limits on g. 

\PYZpc{}\PYZpc{} The \PYZdq{}all in one\PYZdq{} attempt that did not work. 
\PYZpc{}\PYZpc{} P = n\PYZca{}\PYZbs{}alpha n\PYZca{}\PYZbs{}beta \PYZbs{}nabla\PYZus{}\PYZbs{}alpha \PYZbs{}nabla\PYZus{}\PYZbs{}beta \PYZbs{}psi 
\PYZpc{}\PYZpc{} \PYZhy{} \PYZbs{}frac\PYZob{}1\PYZcb{}\PYZob{}\PYZbs{}alpha\PYZcb{} (D\PYZca{}\PYZbs{}alpha \PYZbs{}psi)D\PYZus{}\PYZbs{}alpha \PYZbs{}alpha + n\PYZca{}\PYZbs{}alpha \PYZbs{}nabla\PYZus{}\PYZbs{}alpha \PYZbs{}kappa
\end{Verbatim}
\end{tcolorbox}
 
            
\prompt{Out}{outcolor}{10}{}
    
    \[
P = n^\alpha n^\beta \nabla_\alpha \nabla_\beta \psi 
- n^\alpha n^\beta \nabla_\alpha D_\beta \psi + n^\alpha \nabla_\alpha \kappa \\

%% We have identified the step where trouble occurs,
%% The fliping across the nabla. 
O = n^\alpha n^\beta \nabla_\alpha D_\beta \psi + n^\alpha (D_\beta \psi) \nabla_\alpha n^\beta \\
%% this evaluation is not zero, despite us knowing it works. 
%% Digging a bit we find that the computer does not recognize
N = n^\alpha D_\alpha \psi \\
%% as going to zero, an even simpler relation used to prove the above. Projecting 
%% spatial anything along the normal should vanish. 

%% We THINK this is arising because we manually defined both versions of n
%% but have not defined the metric g. Even though the nature of n puts limits on g. 

%% The "all in one" attempt that did not work. 
%% P = n^\alpha n^\beta \nabla_\alpha \nabla_\beta \psi 
%% - \frac{1}{\alpha} (D^\alpha \psi)D_\alpha \alpha + n^\alpha \nabla_\alpha \kappa
\]

    

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{11}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{n}{sp}\PY{o}{.}\PY{n}{simplify}\PY{p}{(}\PY{n}{P}\PY{p}{)}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{n}{sp}\PY{o}{.}\PY{n}{simplify}\PY{p}{(}\PY{n}{O}\PY{p}{)}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{n}{sp}\PY{o}{.}\PY{n}{simplify}\PY{p}{(}\PY{n}{N}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
0
(betaU1**2*psi\_dDD11 + 2*betaU1*betaU2*psi\_dDD12 + 2*betaU1*betaU3*psi\_dDD13 -
2*betaU1*psi\_dDD01 + betaU2**2*psi\_dDD22 + 2*betaU2*betaU3*psi\_dDD23 -
2*betaU2*psi\_dDD02 + betaU3**2*psi\_dDD33 - 2*betaU3*psi\_dDD03 +
psi\_dDD00)/alpha**2
(-betaU1*psi\_dD1 - betaU2*psi\_dD2 - betaU3*psi\_dD3 + psi\_dD0)/alpha
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{12}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{\PYZpc{}\PYZpc{}}\PY{k}{parse\PYZus{}latex}

\PYZpc{}\PYZpc{} So instead let\PYZsq{}s use a srepl to define the relation. 

\PYZpc{} srepl \PYZdq{}n\PYZca{}\PYZlt{}1\PYZgt{} D\PYZus{}\PYZlt{}1\PYZgt{} \PYZbs{}psi\PYZdq{} \PYZhy{}\PYZgt{} \PYZdq{}0\PYZdq{}

\PYZpc{}\PYZpc{} this notably fixes the small relation, but NRPyLaTeX cannot carry it through
\PYZpc{}\PYZpc{} so we also define the flip

P = n\PYZca{}\PYZbs{}alpha n\PYZca{}\PYZbs{}beta \PYZbs{}nabla\PYZus{}\PYZbs{}alpha \PYZbs{}nabla\PYZus{}\PYZbs{}beta \PYZbs{}psi 
\PYZhy{} n\PYZca{}\PYZbs{}alpha n\PYZca{}\PYZbs{}beta \PYZbs{}nabla\PYZus{}\PYZbs{}alpha D\PYZus{}\PYZbs{}beta \PYZbs{}psi + n\PYZca{}\PYZbs{}alpha \PYZbs{}nabla\PYZus{}\PYZbs{}alpha \PYZbs{}kappa \PYZbs{}\PYZbs{}

\PYZpc{} srepl \PYZdq{}n\PYZca{}\PYZbs{}beta \PYZbs{}nabla\PYZus{}\PYZbs{}alpha D\PYZus{}\PYZbs{}beta \PYZbs{}psi\PYZdq{} \PYZhy{}\PYZgt{} \PYZdq{}(D\PYZus{}\PYZbs{}beta \PYZbs{}psi) \PYZbs{}nabla\PYZus{}\PYZbs{}alpha n\PYZca{}\PYZbs{}beta\PYZdq{}

O = n\PYZca{}\PYZbs{}alpha n\PYZca{}\PYZbs{}beta \PYZbs{}nabla\PYZus{}\PYZbs{}alpha D\PYZus{}\PYZbs{}beta \PYZbs{}psi + n\PYZca{}\PYZbs{}alpha (D\PYZus{}\PYZbs{}beta \PYZbs{}psi) \PYZbs{}nabla\PYZus{}\PYZbs{}alpha n\PYZca{}\PYZbs{}beta \PYZbs{}\PYZbs{}

N = n\PYZca{}\PYZbs{}alpha D\PYZus{}\PYZbs{}alpha \PYZbs{}psi \PYZbs{}\PYZbs{}

\PYZpc{}\PYZpc{} Curiously the srepl breaks P, but so long as we do it afterward, we\PYZsq{}re fine and the
\PYZpc{}\PYZpc{} things go to zero. 
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
OverrideWarning: some variable(s) in the namespace were overridden
    \end{Verbatim}
 
            
\prompt{Out}{outcolor}{12}{}
    
    \[
%% So instead let's use a srepl to define the relation. 

% srepl "n^<1> D_<1> \psi" -> "0"

%% this notably fixes the small relation, but NRPyLaTeX cannot carry it through
%% so we also define the flip

P = n^\alpha n^\beta \nabla_\alpha \nabla_\beta \psi 
- n^\alpha n^\beta \nabla_\alpha D_\beta \psi + n^\alpha \nabla_\alpha \kappa \\

% srepl "n^\beta \nabla_\alpha D_\beta \psi" -> "(D_\beta \psi) \nabla_\alpha n^\beta"

O = n^\alpha n^\beta \nabla_\alpha D_\beta \psi + n^\alpha (D_\beta \psi) \nabla_\alpha n^\beta \\

N = n^\alpha D_\alpha \psi \\

%% Curiously the srepl breaks P, but so long as we do it afterward, we're fine and the
%% things go to zero. 
\]

    

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{13}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{n}{sp}\PY{o}{.}\PY{n}{simplify}\PY{p}{(}\PY{n}{P}\PY{p}{)}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{n}{sp}\PY{o}{.}\PY{n}{simplify}\PY{p}{(}\PY{n}{O}\PY{p}{)}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{n}{sp}\PY{o}{.}\PY{n}{simplify}\PY{p}{(}\PY{n}{N}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
0
0
0
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{14}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{\PYZpc{}\PYZpc{}}\PY{k}{parse\PYZus{}latex}

\PYZpc{}\PYZpc{}We note that we already have the last term in both places, so we ignore it here.

\PYZpc{}\PYZpc{} notably, it seems that the program does not know how to create the acceleraiton, 
\PYZpc{}\PYZpc{} so we will do it manually 

\PYZpc{} define aD \PYZhy{}\PYZhy{}dim 4

\PYZpc{} srepl \PYZdq{}n\PYZca{}\PYZlt{}1\PYZgt{} \PYZbs{}nabla\PYZus{}\PYZlt{}1\PYZgt{} n\PYZus{}\PYZlt{}2\PYZgt{}\PYZdq{} \PYZhy{}\PYZgt{} \PYZdq{}\PYZbs{}frac\PYZob{}1\PYZcb{}\PYZob{}\PYZbs{}alpha\PYZcb{} D\PYZus{}\PYZlt{}2\PYZgt{} \PYZbs{}alpha\PYZdq{}

L = \PYZhy{} (D\PYZus{}\PYZbs{}beta \PYZbs{}psi) n\PYZca{}\PYZbs{}alpha \PYZbs{}nabla\PYZus{}\PYZbs{}alpha n\PYZca{}\PYZbs{}beta
+ (D\PYZca{}\PYZbs{}beta \PYZbs{}psi) n\PYZca{}\PYZbs{}alpha \PYZbs{}nabla\PYZus{}\PYZbs{}alpha n\PYZus{}\PYZbs{}beta \PYZbs{}\PYZbs{}

K = \PYZhy{} (D\PYZus{}\PYZbs{}beta \PYZbs{}psi) n\PYZca{}\PYZbs{}alpha \PYZbs{}nabla\PYZus{}\PYZbs{}alpha n\PYZca{}\PYZbs{}beta
+ \PYZbs{}frac\PYZob{}1\PYZcb{}\PYZob{}\PYZbs{}alpha\PYZcb{} (D\PYZca{}\PYZbs{}alpha \PYZbs{}psi)D\PYZus{}\PYZbs{}alpha \PYZbs{}alpha 
\end{Verbatim}
\end{tcolorbox}
 
            
\prompt{Out}{outcolor}{14}{}
    
    \[
%%We note that we already have the last term in both places, so we ignore it here.

%% notably, it seems that the program does not know how to create the acceleraiton, 
%% so we will do it manually 

% define aD --dim 4

% srepl "n^<1> \nabla_<1> n_<2>" -> "\frac{1}{\alpha} D_<2> \alpha"

L = - (D_\beta \psi) n^\alpha \nabla_\alpha n^\beta
+ (D^\beta \psi) n^\alpha \nabla_\alpha n_\beta \\

K = - (D_\beta \psi) n^\alpha \nabla_\alpha n^\beta
+ \frac{1}{\alpha} (D^\alpha \psi)D_\alpha \alpha 
\]

    

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{15}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{n}{sp}\PY{o}{.}\PY{n}{simplify}\PY{p}{(}\PY{n}{K}\PY{p}{)}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{n}{sp}\PY{o}{.}\PY{n}{simplify}\PY{p}{(}\PY{n}{L}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
(zoo*alpha\_dD0*(-psi\_dD0*(-gDD11*gDD22*gDD33 + gDD11*gDD23**2 + gDD12**2*gDD33 -
2*gDD12*gDD13*gDD23 + gDD13**2*gDD22) - psi\_dD1*(gDD01*gDD22*gDD33 -
gDD01*gDD23**2 - gDD02*gDD12*gDD33 + gDD02*gDD13*gDD23 + gDD03*gDD12*gDD23 -
gDD03*gDD13*gDD22) + psi\_dD2*(gDD01*gDD12*gDD33 - gDD01*gDD13*gDD23 -
gDD02*gDD11*gDD33 + gDD02*gDD13**2 + gDD03*gDD11*gDD23 - gDD03*gDD12*gDD13) -
psi\_dD3*(gDD01*gDD12*gDD23 - gDD01*gDD13*gDD22 - gDD02*gDD11*gDD23 +
gDD02*gDD12*gDD13 + gDD03*gDD11*gDD22 - gDD03*gDD12**2)) -
alpha\_dD1*(-psi\_dD0*(gDD01*gDD22*gDD33 - gDD01*gDD23**2 - gDD02*gDD12*gDD33 +
gDD02*gDD13*gDD23 + gDD03*gDD12*gDD23 - gDD03*gDD13*gDD22) -
psi\_dD1*(-gDD00*gDD22*gDD33 + gDD00*gDD23**2 + gDD02**2*gDD33 -
2*gDD02*gDD03*gDD23 + gDD03**2*gDD22) - psi\_dD2*(gDD00*gDD12*gDD33 -
gDD00*gDD13*gDD23 - gDD01*gDD02*gDD33 + gDD01*gDD03*gDD23 + gDD02*gDD03*gDD13 -
gDD03**2*gDD12) + psi\_dD3*(gDD00*gDD12*gDD23 - gDD00*gDD13*gDD22 -
gDD01*gDD02*gDD23 + gDD01*gDD03*gDD22 + gDD02**2*gDD13 - gDD02*gDD03*gDD12)) -
alpha\_dD2*(psi\_dD0*(gDD01*gDD12*gDD33 - gDD01*gDD13*gDD23 - gDD02*gDD11*gDD33 +
gDD02*gDD13**2 + gDD03*gDD11*gDD23 - gDD03*gDD12*gDD13) -
psi\_dD1*(gDD00*gDD12*gDD33 - gDD00*gDD13*gDD23 - gDD01*gDD02*gDD33 +
gDD01*gDD03*gDD23 + gDD02*gDD03*gDD13 - gDD03**2*gDD12) -
psi\_dD2*(-gDD00*gDD11*gDD33 + gDD00*gDD13**2 + gDD01**2*gDD33 -
2*gDD01*gDD03*gDD13 + gDD03**2*gDD11) - psi\_dD3*(gDD00*gDD11*gDD23 -
gDD00*gDD12*gDD13 - gDD01**2*gDD23 + gDD01*gDD02*gDD13 + gDD01*gDD03*gDD12 -
gDD02*gDD03*gDD11))/2 - alpha\_dD3*(-psi\_dD0*(gDD01*gDD12*gDD23 -
gDD01*gDD13*gDD22 - gDD02*gDD11*gDD23 + gDD02*gDD12*gDD13 + gDD03*gDD11*gDD22 -
gDD03*gDD12**2) + psi\_dD1*(gDD00*gDD12*gDD23 - gDD00*gDD13*gDD22 -
gDD01*gDD02*gDD23 + gDD01*gDD03*gDD22 + gDD02**2*gDD13 - gDD02*gDD03*gDD12) -
psi\_dD2*(gDD00*gDD11*gDD23 - gDD00*gDD12*gDD13 - gDD01**2*gDD23 +
gDD01*gDD02*gDD13 + gDD01*gDD03*gDD12 - gDD02*gDD03*gDD11) -
psi\_dD3*(-gDD00*gDD11*gDD22 + gDD00*gDD12**2 + gDD01**2*gDD22 -
2*gDD01*gDD02*gDD12 + gDD02**2*gDD11))/3)/(-gDD00*gDD11*gDD22*gDD33 +
gDD00*gDD11*gDD23**2 + gDD00*gDD12**2*gDD33 - 2*gDD00*gDD12*gDD13*gDD23 +
gDD00*gDD13**2*gDD22 + gDD01**2*gDD22*gDD33 - gDD01**2*gDD23**2 -
2*gDD01*gDD02*gDD12*gDD33 + 2*gDD01*gDD02*gDD13*gDD23 +
2*gDD01*gDD03*gDD12*gDD23 - 2*gDD01*gDD03*gDD13*gDD22 + gDD02**2*gDD11*gDD33 -
gDD02**2*gDD13**2 - 2*gDD02*gDD03*gDD11*gDD23 + 2*gDD02*gDD03*gDD12*gDD13 +
gDD03**2*gDD11*gDD22 - gDD03**2*gDD12**2)
(-alpha\_dD0*(-psi\_dD0*(-gDD11*gDD22*gDD33 + gDD11*gDD23**2 + gDD12**2*gDD33 -
2*gDD12*gDD13*gDD23 + gDD13**2*gDD22) - psi\_dD1*(gDD01*gDD22*gDD33 -
gDD01*gDD23**2 - gDD02*gDD12*gDD33 + gDD02*gDD13*gDD23 + gDD03*gDD12*gDD23 -
gDD03*gDD13*gDD22) + psi\_dD2*(gDD01*gDD12*gDD33 - gDD01*gDD13*gDD23 -
gDD02*gDD11*gDD33 + gDD02*gDD13**2 + gDD03*gDD11*gDD23 - gDD03*gDD12*gDD13) -
psi\_dD3*(gDD01*gDD12*gDD23 - gDD01*gDD13*gDD22 - gDD02*gDD11*gDD23 +
gDD02*gDD12*gDD13 + gDD03*gDD11*gDD22 - gDD03*gDD12**2)) -
alpha\_dD1*(-psi\_dD0*(gDD01*gDD22*gDD33 - gDD01*gDD23**2 - gDD02*gDD12*gDD33 +
gDD02*gDD13*gDD23 + gDD03*gDD12*gDD23 - gDD03*gDD13*gDD22) -
psi\_dD1*(-gDD00*gDD22*gDD33 + gDD00*gDD23**2 + gDD02**2*gDD33 -
2*gDD02*gDD03*gDD23 + gDD03**2*gDD22) - psi\_dD2*(gDD00*gDD12*gDD33 -
gDD00*gDD13*gDD23 - gDD01*gDD02*gDD33 + gDD01*gDD03*gDD23 + gDD02*gDD03*gDD13 -
gDD03**2*gDD12) + psi\_dD3*(gDD00*gDD12*gDD23 - gDD00*gDD13*gDD22 -
gDD01*gDD02*gDD23 + gDD01*gDD03*gDD22 + gDD02**2*gDD13 - gDD02*gDD03*gDD12)) -
alpha\_dD2*(psi\_dD0*(gDD01*gDD12*gDD33 - gDD01*gDD13*gDD23 - gDD02*gDD11*gDD33 +
gDD02*gDD13**2 + gDD03*gDD11*gDD23 - gDD03*gDD12*gDD13) -
psi\_dD1*(gDD00*gDD12*gDD33 - gDD00*gDD13*gDD23 - gDD01*gDD02*gDD33 +
gDD01*gDD03*gDD23 + gDD02*gDD03*gDD13 - gDD03**2*gDD12) -
psi\_dD2*(-gDD00*gDD11*gDD33 + gDD00*gDD13**2 + gDD01**2*gDD33 -
2*gDD01*gDD03*gDD13 + gDD03**2*gDD11) - psi\_dD3*(gDD00*gDD11*gDD23 -
gDD00*gDD12*gDD13 - gDD01**2*gDD23 + gDD01*gDD02*gDD13 + gDD01*gDD03*gDD12 -
gDD02*gDD03*gDD11)) - alpha\_dD3*(-psi\_dD0*(gDD01*gDD12*gDD23 - gDD01*gDD13*gDD22
- gDD02*gDD11*gDD23 + gDD02*gDD12*gDD13 + gDD03*gDD11*gDD22 - gDD03*gDD12**2) +
psi\_dD1*(gDD00*gDD12*gDD23 - gDD00*gDD13*gDD22 - gDD01*gDD02*gDD23 +
gDD01*gDD03*gDD22 + gDD02**2*gDD13 - gDD02*gDD03*gDD12) -
psi\_dD2*(gDD00*gDD11*gDD23 - gDD00*gDD12*gDD13 - gDD01**2*gDD23 +
gDD01*gDD02*gDD13 + gDD01*gDD03*gDD12 - gDD02*gDD03*gDD11) -
psi\_dD3*(-gDD00*gDD11*gDD22 + gDD00*gDD12**2 + gDD01**2*gDD22 -
2*gDD01*gDD02*gDD12 + gDD02**2*gDD11)))/(alpha*(-gDD00*gDD11*gDD22*gDD33 +
gDD00*gDD11*gDD23**2 + gDD00*gDD12**2*gDD33 - 2*gDD00*gDD12*gDD13*gDD23 +
gDD00*gDD13**2*gDD22 + gDD01**2*gDD22*gDD33 - gDD01**2*gDD23**2 -
2*gDD01*gDD02*gDD12*gDD33 + 2*gDD01*gDD02*gDD13*gDD23 +
2*gDD01*gDD03*gDD12*gDD23 - 2*gDD01*gDD03*gDD13*gDD22 + gDD02**2*gDD11*gDD33 -
gDD02**2*gDD13**2 - 2*gDD02*gDD03*gDD11*gDD23 + 2*gDD02*gDD03*gDD12*gDD13 +
gDD03**2*gDD11*gDD22 - gDD03**2*gDD12**2))
    \end{Verbatim}

    Well uh\ldots{} what?

It really seems as though something in our problem is keeping this from
working, most likely the fact that n is being explicilty defined while g
is not, and g's components \emph{are} limited by what n is, but not ALL
of them.

Perhaps this is not the problem to be trying NRPyLaTeX on\ldots{}

Regardless, we've gotten our experience with the program, annoyance at
the results or no.

    \hypertarget{problem-17-back-to-top}{%
\section{\texorpdfstring{Problem 17 {[}Back to
\hyperref[toc]{top}{]}}{Problem 17 {[}Back to {]}}}\label{problem-17-back-to-top}}

\[\label{P17}\]

\emph{We can ``count'' the number of dimensions d of a space by taking
the trace of the metric, i.e., d=\(g^a_a\). Take the trace of the
induced metric \(\gamma_{ab} = g_{ab} + n_a n_b\) to show that the
dimension of the spatial slice is one less than that of the spacetime.}

This is actually pretty simple. Let's get the trace here by applying a
new metric:

\[g^{ab}\gamma_{ab} = g^{ab}g_{ab} + g^{ab}n_a n_b\]

\[ \Rightarrow \gamma^a_a= g^a_a + n_a n^a\]

\[ \Rightarrow \gamma^a_a= g^a_a -1\]

Which is what we sought to show.

    \hypertarget{problem-18-back-to-top}{%
\section{\texorpdfstring{Problem 18 {[}Back to
\hyperref[toc]{top}{]}}{Problem 18 {[}Back to {]}}}\label{problem-18-back-to-top}}

\[\label{P18}\]

\emph{Show that the determinant g of the spacetime metric is related to
the determinant of the spatial metric by
\(\sqrt{-g} = \alpha \sqrt{\gamma}\). Hint: first write \$-\alpha\^{}2 =
g\^{}\{00\} \$ and then recall that for any square matrix \(A_{ij}\) the
following is true: \((A^{-1})_{ij} = cofactorA_{ji}/detA\)}

There's a typo in the problem, from 2.102 we know
\(g^{00} = -\alpha^{-2}\), the minus is missing in the problem
statement.

    Wait a second\ldots. this is almost trivial. \hyperref[7]{7} reminds us
of the cofactor rules of linear algebra. The cofactor of any individual
element is:

\[ C_{ij} = (-1)^{i+j} det A(i|k) \]

where the determinant is the determinant of the matrix with those
specific rows and columns removed. Note that the indices on the cofactor
C can be up or down it really doesn't matter. Let's just set i and j to
zero and use the INVERSE of the known value.

\[ 
\begin{align}
C_{00} &= (-1)^0 det A(0|0) \\
&= det \gamma^{ij} \\
&= \gamma
\end{align}
\]

    Now using the inverse relation, we see that \$ g\^{}\{00\} =
\frac{C_{00}}{det g} \$ which we can expand to:

\[
\begin{align}
-\alpha^-2 &= \gamma / g \\
-g &= \alpha^2 \gamma \\
\sqrt{-g} &= \alpha \sqrt{\gamma}
\end{align}
\]

Tah-dah, all done!

    \hypertarget{problem-19-back-to-top}{%
\section{\texorpdfstring{Problem 19 {[}Back to
\hyperref[toc]{top}{]}}{Problem 19 {[}Back to {]}}}\label{problem-19-back-to-top}}

\[\label{P19}\]

\emph{If all went well in \textbf{Problem 1.5},} ((We did not do chapter
1.)) \emph{you should have found that the Schwarzchild metric in
isotropic coordinates (on slices of constant Schwarzchild time) is given
by:}

\[ ds^2 = -\left( \frac{1-M/2r}{1+M/2r} \right)^2 dt^2 + \left( 1 + \frac{M}{2r}\right)^4 (dr^2 + r^2 d\Omega^2) \]

\emph{Compare this line element with the ``3+1'' line element (2.104) to
identify the lapse funciton \(\alpha\), the shift vector \(\beta^i\),
and the spatial metric \(\gamma_{ij}\) in spherical polar coordinates.}

    2.104 is\ldots{}

\[
\begin{align}
ds^2 &= g_{ab}dx^adx^b \\
&= -\alpha^2 dt^2 + \gamma_{ij}(dx^i + \beta^i dt)(dx^j + \beta^j dt) \\
&= -\alpha^2 dt^2 + \gamma_{ij}dx^idx^j + \beta^j dx^i dt + \beta^i dx^j dt + \beta_i\beta^i dt^2 \\
\end{align}
\]

    The problem here is that not everything is decoupled, we can simply set
the two parts to each other, but that's not always going to work. First,
let's expand the schwarzchild metric a bit into its components.

\[ ds^2 = -\left( \frac{1-M/2r}{1+M/2r} \right)^2 dt^2 + \left( 1 + \frac{M}{2r}\right)^4 dr^2 + \left( 1 + \frac{M}{2r}\right)^4 r^2 d\Omega^2 \]

or

\[ ds^2 = -\left( \frac{1-M/2r}{1+M/2r} \right)^2 dt^2 + \left( 1 + \frac{M}{2r}\right)^4 dr^2 + \left( 1 + \frac{M}{2r}\right)^4 r^2 d\theta^2 + \left( 1 + \frac{M}{2r}\right)^4 r^2 sin^2\theta d\phi^2 \]

    Now, one thing we can say right away is taht the Schwarzchild metric
\emph{has no combined differentials}. There's nothing in the middle, so
those terms have to either cancel or go to zero in 2.104. They naturally
\emph{can't} just go to zero since they can equal each other when i=j,
so they must BE zero. Thus, \(\beta^i = 0\) no matter what. This already
gives us the shift vector: (0,0,0). It vanishes. One part down!

This also reduces the 2.104 relation to:

\[
\begin{align}
ds^2 &= -\alpha^2 dt^2 + \gamma_{ij}dx^idx^j \\
\end{align}
\]

    Now this quickly gives us \(\alpha\) as both 2.104 and the Schwarzchild
metric have distinct temporal parts that are even in the same FORM.

\[ \alpha = \frac{1-M/2r}{1+M/2r} \]

Which leaves us with one piece left, though it is the most\ldots{}
complex looking.

\[ \gamma_{ij}dx^idx^j = \left( 1 + \frac{M}{2r}\right)^4 dr^2 + \left( 1 + \frac{M}{2r}\right)^4 r^2 d\theta^2 + \left( 1 + \frac{M}{2r}\right)^4 r^2 sin^2\theta d\phi^2 \]

    But aha! We never specified what our coordiantes were! They don't HAVE
to be xyz, they can just as well be \(r\theta\phi\). Thus we can make
direct comparisons, and create the matrix for the spatial metric without
any problem.

\[
\gamma_{ij} = \begin{bmatrix}
\left( 1 + \frac{M}{2r}\right)^4 & 0 & 0 \\
0 & \left( 1 + \frac{M}{2r}\right)^4 r^2 & 0 \\
0 & 0 & \left( 1 + \frac{M}{2r}\right)^4 r^2 sin^2\theta \\
\end{bmatrix}
\]

And there we go! The book was right this was easy. Unfortunately the
shift vector isn't going to vanish in the next problem.

    \hypertarget{problem-20-back-to-top}{%
\section{\texorpdfstring{Problem 20 {[}Back to
\hyperref[toc]{top}{]}}{Problem 20 {[}Back to {]}}}\label{problem-20-back-to-top}}

\[\label{P20}\]

\emph{Revisit the Schwarzchild solution in the trumpet coordinate system
of \textbf{Problem 1.6}.}

\emph{a) Compare the line elements 2.104 and 1.48 to identify
\(\beta_{\bar r} = \gamma_{\bar r \bar r} \beta^{\bar r}\) and the
spatial metric \(\gamma_{\bar i \bar j}\) on slices of constant time
\(\bar t\)}

    2.104 is\ldots{}

\[
\begin{align}
ds^2 &= g_{ab}dx^adx^b \\
&= -\alpha^2 dt^2 + \gamma_{ij}(dx^i + \beta^i dt)(dx^j + \beta^j dt) \\
&= -\alpha^2 dt^2 + \gamma_{ij}dx^idx^j + \beta^j dx^i dt + \beta^i dx^j dt + \beta_i\beta^i dt^2 \\
\end{align}
\]

And 1.48\ldots{}

\[ ds^2 = -\frac{\bar{r} - M}{\bar{r} + M} d\bar{t}^2 + 2\frac{M}{\bar r}d\bar{t}d\bar{r} + \psi^4 (d\bar{r}^2 + \bar{r}^2 d\Omega^2) \]

Which we expand to something more explicit\ldots{}

\[ ds^2 = -\frac{\bar{r} - M}{\bar{r} + M} d\bar{t}^2 + 2\frac{M}{\bar r}d\bar{t}d\bar{r} + \psi^4 d\bar{r}^2 + \psi^4 \bar{r}^2 d\theta^2 + \psi^4 \bar{r}^2 sin^2\theta d\phi^2 \]

So this will be somewhat similar to the above, but first of all we need
to determine the relation between t and \(\bar t\) as they are clearly
different things. As we didn't do \textbf{Problem 1.6} this might be a
little funky, but let's see.

We find our answer to that question by 1.46

\[ dt = d\bar{t} -\frac{1}{f_0} \frac{M}{R-M}dR \]

Which has some relations we would need to expand, such as
\(f_0 = 1-2M/R\) and \(\bar{r} = R-M\)

    Hopefully this is all we need. Since the problem wants us to have things
in terms of \(\bar{r}\), that will be our goal in messing with it all.
We will declare the coordinates to be \((t\bar{r}\theta\phi)\) To get
this relation, we will first have to transform \(d\bar{t}^2\)

\[ -\frac{\bar{r} - M}{\bar{r} + M} d\bar{t}^2 = -\frac{\bar{r} - M}{\bar{r} + M} dt^2 -\frac{\bar{r} - M}{\bar{r} + M} \frac{2}{f_0} \frac{M}{R-M} dtdR -\frac{\bar{r} - M}{\bar{r} + M} \frac{1}{f^2_0} \frac{M^2}{(R-M)^2} dR^2 \]

    \ldots Which you think would give us the lapse, but no, since the shift
vector is not zero we can't just dismiss the other part of the time
derivative. That said, we CAN say\ldots{}

\[ -\frac{\bar{r} - M}{\bar{r} + M} = -\alpha^2 + \beta_i \beta^i \]

Which is definitely something! Now, as M is a constant, dR =
\(d\bar r\). However, the direct translation will have R =
\(\bar{r} + M\). So the two dR terms up there become\ldots{}

\[ -\frac{\bar{r} - M}{\bar{r} + M} \frac{2}{f_0} \frac{M}{\bar{r}} dtd\bar{r} -\frac{\bar{r} - M}{\bar{r} + M} \frac{1}{f^2_0} \frac{M^2}{\bar{r}^2} d\bar{r}^2 \]

    Which means we can now set the ENTIRE relation\ldots{}

\[ -\alpha^2 dt^2 + \gamma_{ij}dx^idx^j + \beta^j dx^i dt + \beta^i dx^j dt + \beta_i\beta^i dt^2 =  -\frac{\bar{r} - M}{\bar{r} + M} dt^2 -\frac{\bar{r} - M}{\bar{r} + M} \frac{2}{f_0} \frac{M}{\bar{r}} dtd\bar{r}- \frac{\bar{r} - M}{\bar{r} + M} \frac{1}{f^2_0} \frac{M^2}{\bar{r}^2} d\bar{r}^2 + 2\frac{M}{\bar r}d\bar{t}d\bar{r} + \psi^4 d\bar{r}^2 + \psi^4 \bar{r}^2 d\theta^2 + \psi^4 \bar{r}^2 sin^2\theta d\phi^2  \]

    Whoops, there's still a \(d\bar{t}\) in there. Let's fix that.

\[ \Rightarrow -\alpha^2 dt^2 + \gamma_{ij}dx^idx^j + \beta^j dx^i dt + \beta^i dx^j dt + \beta_i\beta^i dt^2 =  -\frac{\bar{r} - M}{\bar{r} + M} dt^2 -\frac{\bar{r} - M}{\bar{r} + M} \frac{2}{f_0} \frac{M}{\bar{r}} dtd\bar{r}- \frac{\bar{r} - M}{\bar{r} + M} \frac{1}{f^2_0} \frac{M^2}{\bar{r}^2} d\bar{r}^2 + 2\frac{M}{\bar r}dtd\bar{r} + 2\frac{M}{\bar r}\frac{1}{f_0}\frac{M}{R-M}dRd\bar{r} + \psi^4 d\bar{r}^2 + \psi^4 \bar{r}^2 d\theta^2 + \psi^4 \bar{r}^2 sin^2\theta d\phi^2  \]

And do the same thing again where we replace R\ldots{}

\[ \Rightarrow -\alpha^2 dt^2 + \gamma_{ij}dx^idx^j + \beta^j dx^i dt + \beta^i dx^j dt + \beta_i\beta^i dt^2 =  -\frac{\bar{r} - M}{\bar{r} + M} dt^2 -\frac{\bar{r} - M}{\bar{r} + M} \frac{2}{f_0} \frac{M}{\bar{r}} dtd\bar{r}- \frac{\bar{r} - M}{\bar{r} + M} \frac{1}{f^2_0} \frac{M^2}{\bar{r}^2} d\bar{r}^2 + 2\frac{M}{\bar r}dtd\bar{r} + 2\frac{M}{\bar r}\frac{1}{f_0}\frac{M}{\bar{r}}d\bar{r}d\bar{r} + \psi^4 d\bar{r}^2 + \psi^4 \bar{r}^2 d\theta^2 + \psi^4 \bar{r}^2 sin^2\theta d\phi^2  \]

\[ \Rightarrow -\alpha^2 dt^2 + \gamma_{ij}dx^idx^j + \beta^j dx^i dt + \beta^i dx^j dt + \beta_i\beta^i dt^2 =  -\frac{\bar{r} - M}{\bar{r} + M} dt^2 -\frac{\bar{r} - M}{\bar{r} + M} \frac{2}{f_0} \frac{M}{\bar{r}} dtd\bar{r}- \frac{\bar{r} - M}{\bar{r} + M} \frac{1}{f^2_0} \frac{M^2}{\bar{r}^2} d\bar{r}^2 + 2\frac{M}{\bar r}dtd\bar{r} + 2\frac{M^2}{\bar r^2}\frac{1}{f_0}d\bar{r}^2 + \psi^4 d\bar{r}^2 + \psi^4 \bar{r}^2 d\theta^2 + \psi^4 \bar{r}^2 sin^2\theta d\phi^2  \]

    Now we naturally already determined that the \(dt^2\) terms were
matching and independent of the others, so we can remove those terms to
make it easier to look at.

\[ \Rightarrow \gamma_{ij}dx^idx^j + \beta^j dx^i dt + \beta^i dx^j dt = -\frac{\bar{r} - M}{\bar{r} + M} \frac{2}{f_0} \frac{M}{\bar{r}} dtd\bar{r}- \frac{\bar{r} - M}{\bar{r} + M} \frac{1}{f^2_0} \frac{M^2}{\bar{r}^2} d\bar{r}^2 + 2\frac{M}{\bar r}dtd\bar{r} + 2\frac{M^2}{\bar r^2}\frac{1}{f_0}d\bar{r}^2 + \psi^4 d\bar{r}^2 + \psi^4 \bar{r}^2 d\theta^2 + \psi^4 \bar{r}^2 sin^2\theta d\phi^2  \]

    This implies that \(\beta^i\) only exists on the radial coordinate,
there are no angular ones to see. This enforces that the left side of
the equation has two forms:

\[ \gamma_{\bar{r}\bar{r}}d\bar{r}^2 + 2 \beta^\bar{r} d\bar{r} dt \]

\[ \gamma_{ij}dx^idx^j \]

Where the second one is only true for the angular coordinates. And even
then we see they clearly have to be the same.

This means we can actually produce the spatial metric now! We have all
the information! The only issue is the \(\bar r^2\) coordinate is really
huge\ldots{}

\[ \gamma_{\bar r \bar r}- \frac{\bar{r} - M}{\bar{r} + M} \frac{1}{f^2_0} \frac{M^2}{\bar{r}^2} + 2\frac{M^2}{\bar r^2}\frac{1}{f_0} + \psi^4 \]

So we'll just keep it like that.

\[
\gamma_{ij} = \begin{bmatrix}
\gamma_{\bar r \bar r} & 0 & 0 \\
0 & \psi^4 \bar r^2 & 0 \\
0 & 0 & \psi^4 \bar r^2 sin^2\theta \\
\end{bmatrix}
\]

    Now, we know the form of the spatial metric and the form of the shift
vector \((\beta^\bar{r} , 0 , 0)\) So does this mean that the
transformation \(\gamma_{ij}\beta^i = \beta_j\) reduces to
\(\gamma_{\bar{r}\bar{r}}\beta^\bar{r} = \beta_\bar{r}\)? YES! Yes it
does! The metric is fully diagonal so the only terms that pop out of the
sum are the ones where everything is \(\bar r\).

\ldots in fact we could have shown this quite a while ago since there
were no angular components aside from the square ones in the spatial
metric. Oh well, surely all our work will still be helpful\ldots{}
right?

    \emph{b) Invert the spatial metric and compute \(\beta^{\bar r}\)}

    The inverted spatial metric is not hard to make since it is just a
diagonal matrix.

\[
\gamma^{ij} = \begin{bmatrix}
\frac{1}{\gamma_{\bar r \bar r}} & 0 & 0 \\
0 & \frac{1}{\psi^4 \bar r^2 }& 0 \\
0 & 0 & \frac{1}{\psi^4 \bar r^2 sin^2\theta} \\
\end{bmatrix}
\]

Now, how we use this to calculate the shift vector is another thing
entirely. (It's even possible it's unrelated and we're just being asked
to do two things.) We just relate the component \(\beta^\bar{r}\) to the
dtd\(\bar{r}\) sections.

    \emph{c) Compute the lapse funciton \(\alpha\)}

\emph{Check: For \(\bar r = M\) you should find \(\alpha = 1/2\)}

\[ -\alpha^2 = -\frac{\bar{r} - M}{\bar{r} + M} \]

Nope, no direct relation.

    \hypertarget{addendum-output-this-notebook-to-latex-formatted-pdf-file-back-to-top}{%
\section{\texorpdfstring{Addendum: Output this notebook to
\(\LaTeX\)-formatted PDF file {[}Back to
\hyperref[toc]{top}{]}}{Addendum: Output this notebook to \textbackslash LaTeX-formatted PDF file {[}Back to {]}}}\label{addendum-output-this-notebook-to-latex-formatted-pdf-file-back-to-top}}

\[\label{latex_pdf_output}\]

The following code cell converts this Jupyter notebook into a proper,
clickable \(\LaTeX\)-formatted PDF file. After the cell is successfully
run, the generated PDF may be found in the root NRPy+ tutorial
directory, with filename \url{MNR-02.pdf} (Note that clicking on this
link may not work; you may need to open the PDF file through another
means.)

\textbf{Important Note}: Make sure that the file name is right in all
six locations, two here in the Markdown, four in the code below.

\begin{itemize}
\tightlist
\item
  MNR-02.pdf
\item
  MNR-02.ipynb
\item
  MNR-02.tex
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{16}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{cmdline\PYZus{}helper} \PY{k}{as} \PY{n+nn}{cmd}    \PY{c+c1}{\PYZsh{} NRPy+: Multi\PYZhy{}platform Python command\PYZhy{}line interface}
\PY{n}{cmd}\PY{o}{.}\PY{n}{output\PYZus{}Jupyter\PYZus{}notebook\PYZus{}to\PYZus{}LaTeXed\PYZus{}PDF}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{MNR\PYZhy{}02}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Created MNR-02.tex, and compiled LaTeX file to PDF file MNR-02.pdf
    \end{Verbatim}


    % Add a bibliography block to the postdoc
    
    
    
\end{document}
